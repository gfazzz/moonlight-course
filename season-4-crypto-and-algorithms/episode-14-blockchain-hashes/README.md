# Episode 14: "Blockchain & Hash Functions" ๐

> *"Trust, but verify. The blockchain lets you verify."*

---

## ๐ฌ BRIEFING

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะะะะฆะะฏ: ะะตะทะพะฟะฐัะฝัะน ะดะพะผ MOONLIGHT, ะะพัะบะฒะฐ               โ
โ  ะะะะะฏ:   05:27, ัะตัะฒะตัะณ, 16 ะดะตะบะฐะฑัั                    โ
โ  ะกะขะะขะฃะก:  ๐ก BLOCKCHAIN VERIFICATION REQUIRED            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**Episode 13 ะทะฐะฒะตัััะฝ.** ะขัะธ ัะพะพะฑัะตะฝะธั ัะฐััะธััะพะฒะฐะฝั. ะะพะพัะดะธะฝะฐัั ะฝะฐัะพะดัััั ะฒ blockchain ledger.

ะ 05:27 V. ะพัะฟัะฐะฒะปัะตั ะบัะธัะธัะตัะบะธะน ัะฐะนะป:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  FROM: V. (SECURE CHANNEL)                  โ
โ  TIME: 05:27:33 UTC                         โ
โ  PRIORITY: CRITICAL                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                             โ
โ  BLOCKCHAIN LEDGER ะะะะฃะงะะ.                 โ
โ                                             โ
โ  ะคะฐะนะป: moonlight_ledger.dat                 โ
โ  ะะฐะทะผะตั: 15,000 ะฑะปะพะบะพะฒ                      โ
โ  ะะตัะธะพะด: Jan 2020 - Dec 2020                โ
โ                                             โ
โ  ะะะะะะะะ:                                  โ
โ  ะะฐะทะฒะตะดะบะฐ ัะพะพะฑัะฐะตั ะพ ะฟะพะฟััะบะฐั ะฟะพะดะดะตะปะบะธ.     โ
โ  ะัะพ-ัะพ ะฟััะฐะปัั ะธะทะผะตะฝะธัั ัะธะฝะฐะฝัะพะฒัะต ะทะฐะฟะธัะธ. โ
โ                                             โ
โ  ะะะะะงะ:                                    โ
โ  1. ะะพะฝััั ััััะบัััั blockchain             โ
โ  2. ะะตัะธัะธัะธัะพะฒะฐัั ัะตะปะพััะฝะพััั ัะตะฟะธ         โ
โ  3. ะะฐะนัะธ ะฟะพะฒัะตะถะดะตะฝะฝัะต ะฑะปะพะบะธ                โ
โ  4. ะะทะฒะปะตัั ะบะพะพัะดะธะฝะฐัั ะธะท ะฒะฐะปะธะดะฝัั ะดะฐะฝะฝัั   โ
โ                                             โ
โ  Blockchain - ััะพ ะะะะะะะะฏะะะะฏ ัะตะฟั.        โ
โ  ะัะปะธ ัะพัั ะพะดะธะฝ ะฑะปะพะบ ะธะทะผะตะฝัะฝ -              โ
โ  ะฒัั ัะตะฟั ะฟะพัะปะต ะฝะตะณะพ ััะฐะฝะตั ะฝะตะฒะฐะปะธะดะฝะพะน.     โ
โ                                             โ
โ  ะัะธะฝัะธะฟ: ะธะทะผะตะฝะธะป ะฑะปะพะบ N โ ะฒัะต ะฑะปะพะบะธ        โ
โ  N+1, N+2... ะฟะพะปััะฐั ะดััะณะธะต ัะตัะธ.           โ
โ                                             โ
โ  ะฃ ัะตะฑั 4 ัะฐัะฐ ะดะพ ัะฐััะฒะตัะฐ.                 โ
โ  ะะพะพัะดะธะฝะฐัั ะดะพะปะถะฝั ะฑััั ัะธัััะผะธ.            โ
โ  โ V.                                       โ
โ                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะงัะพ ะฒั ะฟะพะฝะธะผะฐะตัะต:**
- ๐ **15,000 ะฑะปะพะบะพะฒ** โ ะณะพะด ัะธะฝะฐะฝัะพะฒัั ััะฐะฝะทะฐะบัะธะน
- ๐ **Blockchain** โ ะบะฐะถะดัะน ะฑะปะพะบ ัะฒัะทะฐะฝ ั ะฟัะตะดัะดััะธะผ ัะตัะตะท ัะตั
- ๐ก๏ธ **Immutability** โ ะธะทะผะตะฝะตะฝะธะต ะพะดะฝะพะณะพ ะฑะปะพะบะฐ ะปะพะผะฐะตั ะฒัั ัะตะฟั
- ๐ฏ **ะะฐะดะฐัะฐ** โ ะฝะฐะนัะธ ะฟะพะดะดะตะปะบะธ ะธ ะธะทะฒะปะตัั ัะธัััะต ะดะฐะฝะฝัะต

ะั ะทะฐะณััะถะฐะตัะต `moonlight_ledger.dat`:

```
โโโโ BLOCKCHAIN LEDGER โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Total blocks: 15,000                                   โ
โ  Genesis block: 0x00000000 (Jan 1, 2020 00:00:00)      โ
โ  Latest block: 0x0000EA5F (Dec 31, 2020 23:59:59)      โ
โ                                                         โ
โ  First 3 blocks preview:                                โ
โ                                                         โ
โ  [Block 0] GENESIS                                      โ
โ    Hash: 0x5FDB8A3C                                     โ
โ    Data: "Operation MOONLIGHT initialized"              โ
โ                                                         โ
โ  [Block 1] Transfer                                     โ
โ    Prev: 0x5FDB8A3C                                     โ
โ    Hash: 0x7A2B9C1D                                     โ
โ    Data: "Transfer $250K to account 0x4A7F..."          โ
โ                                                         โ
โ  [Block 2] Location                                     โ
โ    Prev: 0x7A2B9C1D                                     โ
โ    Hash: 0x9E3D4F2A                                     โ
โ    Data: "Coordinates: 55.7558, 37.6173"                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ะะพ ััะพ-ัะพ ะฝะต ัะฐะบ... ะะปะพะบ 2 ะฟะพะบะฐะทัะฒะฐะตั ะบะพะพัะดะธะฝะฐัั, ะฝะพ ัะตั ะฒัะณะปัะดะธั ะฟะพะดะพะทัะธัะตะปัะฝะพ.

**05:30. ะะฐัะธะฝะฐะตะผ ะฒะตัะธัะธะบะฐัะธั.** โฐ

---

## ๐ ะขะตะพัะธั: Blockchain & Hash Functions

---

## ๐ฏ ะฆะตะปะธ ะพะฑััะตะฝะธั

### ะขะตะพัะธั
- **ะฅะตั-ััะฝะบัะธะธ:** ัะฒะพะนััะฒะฐ, ะบะพะปะปะธะทะธะธ, ะบัะธะฟัะพััะพะนะบะพััั, ะปะฐะฒะธะฝะฝัะน ัััะตะบั
- **Blockchain:** ััััะบัััะฐ ะฑะปะพะบะฐ, ัะตะฟะพัะบะฐ ัะตัะตะน, immutability
- **Proof-of-Work:** mining, difficulty adjustment
- **Integrity checking:** ะฒะตัะธัะธะบะฐัะธั ัะตัะตะท ัะตัะธ, Merkle trees (ะบะพะฝัะตะฟั)

### ะัะฐะบัะธะบะฐ
- ะะตะฐะปะธะทะฐัะธั ัะตั-ััะฝะบัะธะธ (djb2)
- ะกะพะทะดะฐะฝะธะต blockchain ััััะบัััั ะดะฐะฝะฝัั
- ะะตัะธัะธะบะฐัะธั ัะตะปะพััะฝะพััะธ ัะตะฟะธ
- ะัะพััะพะน mining (Proof-of-Work)

---

## ๐ ะขะตะพัะตัะธัะตัะบะฐั ัะฐััั

### 1. ะัะธะฟัะพะณัะฐัะธัะตัะบะธะต ัะตั-ััะฝะบัะธะธ

**ะฅะตั-ััะฝะบัะธั** ะฟัะตะพะฑัะฐะทัะตั ะดะฐะฝะฝัะต ะฟัะพะธะทะฒะพะปัะฝะพะน ะดะปะธะฝั ะฒ ัะธะบัะธัะพะฒะฐะฝะฝัั ัััะพะบั (digest).

**ะกะฒะพะนััะฒะฐ ะบัะธะฟัะพะณัะฐัะธัะตัะบะธั ัะตัะตะน:**
1. **ะะตัะตัะผะธะฝะธัะพะฒะฐะฝะฝะพััั:** ะพะดะธะฝะฐะบะพะฒัะน ะฒัะพะด โ ะพะดะธะฝะฐะบะพะฒัะน ัะตั
2. **ะััััะพะต ะฒััะธัะปะตะฝะธะต:** O(n) ะฟะพ ัะฐะทะผะตัั ะดะฐะฝะฝัั
3. **ะะฐะฒะธะฝะฝัะน ัััะตะบั:** ะผะฐะปะพะต ะธะทะผะตะฝะตะฝะธะต ะฒัะพะดะฐ โ ัะพะฒะตััะตะฝะฝะพ ะดััะณะพะน ัะตั
4. **ะะดะฝะพััะพัะพะฝะฝะพััั:** ะฝะตะฒะพะทะผะพะถะฝะพ ะฒะพัััะฐะฝะพะฒะธัั ะดะฐะฝะฝัะต ะธะท ัะตัะฐ
5. **ะกัะพะนะบะพััั ะบ ะบะพะปะปะธะทะธัะผ:** ัะปะพะถะฝะพ ะฝะฐะนัะธ ะดะฒะฐ ะฒัะพะดะฐ ั ะพะดะฝะธะผ ัะตัะตะผ

**ะัะธะผะตั: SHA-256**
```
Input:  "MOONLIGHT"
SHA256: 8f4e3c0... (64 hex chars, 256 bits)

Input:  "MOONLIGH"  (ะพะดะฝะฐ ะฑัะบะฒะฐ ัะดะฐะปะตะฝะฐ)
SHA256: 2a9d1f7... (ัะพะฒะตััะตะฝะฝะพ ะดััะณะพะน ัะตั!)
```

**ะัะพััะฐั ัะตั-ััะฝะบัะธั (djb2):**
```c
unsigned long hash_djb2(const unsigned char *str) {
    unsigned long hash = 5381;
    int c;
    
    while ((c = *str++)) {
        hash = ((hash << 5) + hash) + c; // hash * 33 + c
    }
    
    return hash;
}
```

---

### 2. Blockchain ััััะบัััะฐ

**ะะปะพะบ ัะพะดะตัะถะธั:**
```c
typedef struct Block {
    int index;              // ะะพะผะตั ะฑะปะพะบะฐ
    time_t timestamp;       // ะัะตะผั ัะพะทะดะฐะฝะธั
    char data[256];         // ะะพะปะตะทะฝัะต ะดะฐะฝะฝัะต
    unsigned long prev_hash; // ะฅะตั ะฟัะตะดัะดััะตะณะพ ะฑะปะพะบะฐ
    unsigned long hash;      // ะฅะตั ัะตะบััะตะณะพ ะฑะปะพะบะฐ
    int nonce;              // Proof-of-work
} Block;
```

**ะะฐะบ ะฒััะธัะปัะตััั ัะตั ะฑะปะพะบะฐ:**
```c
unsigned long calculate_block_hash(Block *block) {
    char buffer[512];
    snprintf(buffer, sizeof(buffer), "%d%ld%s%lu%d",
             block->index,
             block->timestamp,
             block->data,
             block->prev_hash,
             block->nonce);
    
    return hash_djb2((unsigned char*)buffer);
}
```

**ะฆะตะฟะพัะบะฐ ะฑะปะพะบะพะฒ:**
```
Block 0 (Genesis)         Block 1                Block 2
โโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ index: 0        โ      โ index: 1        โ    โ index: 2        โ
โ data: "..."     โ      โ data: "..."     โ    โ data: "..."     โ
โ prev_hash: 0    โโโโโโโโ prev_hash: 5381 โโโโโโ prev_hash: 7892 โ
โ hash: 5381      โ      โ hash: 7892      โ    โ hash: 9034      โ
โโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

---

#### ๐จ ะะธะทัะฐะปัะฝะฐั ะผะตัะฐัะพัะฐ: Blockchain = ะฆะตะฟั ั ะทะฐะผะบะฐะผะธ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  BLOCKCHAIN = ะฆะะะฌ ะก ะกะะะะะะะะะะฎะฉะะะะกะฏ ะะะะะะะ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                โ
โ  ะัะตะดััะฐะฒััะต ััะฐะฝะธะปะธัะต ั ัะตะฟะพัะบะพะน ัะตะนัะพะฒ:                      โ
โ                                                                โ
โ   ะกะะะค #0        ะกะะะค #1        ะกะะะค #2        ะกะะะค #3        โ
โ  โโโโโโโโโโ     โโโโโโโโโโ     โโโโโโโโโโ     โโโโโโโโโโ      โ
โ  โ DATA:  โ     โ DATA:  โ     โ DATA:  โ     โ DATA:  โ      โ
โ  โ "INIT" โ     โ "$250K"โ     โ "GPS"  โ     โ "$1.5M"โ      โ
โ  โ        โ     โ        โ     โ        โ     โ        โ      โ
โ  โ ๐ 5381โโโโโโบโ ๐ 5381โโโโโโบโ ๐ 7892โโโโโโบโ ๐ 9034โ      โ
โ  โ ะะะะะ  โ     โ ๐ 7892โ     โ ๐ 9034โ     โ ๐ 4521โ      โ
โ  โโโโโโโโโโ     โโโโโโโโโโ     โโโโโโโโโโ     โโโโโโโโโโ      โ
โ                                                                โ
โ  ๐ ะะะ ะญะขะ ะะะะะขะะะข:                                          โ
โ                                                                โ
โ  1๏ธโฃ ะกะะะะะะะ ะกะะะคะ:                                            โ
โ     - ะะปะฐะดััะต ะดะฐะฝะฝัะต ะฒะฝัััั                                   โ
โ     - ะะตัััะต ะะะฎะง ะพั ะฟัะตะดัะดััะตะณะพ ัะตะนัะฐ (prev_hash)            โ
โ     - ะะฐะบััะฒะฐะตัะต ะฝะฐ ะะะะซะ ะะะะะ (hash ัะตะบััะตะณะพ ัะตะนัะฐ)         โ
โ                                                                โ
โ  2๏ธโฃ ะะะะะะะะ:                                                  โ
โ     - ะะะะะ ัะตะนัะฐ #0 = 5381                                   โ
โ     - ะะะฎะง ัะตะนัะฐ #1 ะดะพะปะถะตะฝ ะฑััั = 5381 โ                     โ
โ     - ะัะปะธ ะฝะต ัะพะฒะฟะฐะดะฐะตั โ ัะตะฟั ัะฐะทะพัะฒะฐะฝะฐ!                     โ
โ                                                                โ
โ  3๏ธโฃ ะะะะซะขะะ ะะะะะะะะ:                                          โ
โ                                                                โ
โ     ะะปะพัะผััะปะตะฝะฝะธะบ ะผะตะฝัะตั ะดะฐะฝะฝัะต ะฒ ัะตะนัะต #1:                   โ
โ     "$250K" โ "$1M"                                            โ
โ                                                                โ
โ     ะงัะพ ะฟัะพะธััะพะดะธั:                                           โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ               โ
โ     โ ะกะะะค #1 (ะธะทะผะตะฝัะฝ!)                      โ               โ
โ     โ DATA: "$1M" (ะฒะผะตััะพ "$250K")            โ               โ
โ     โ ๐ 5381 (ะฟัะฐะฒะธะปัะฝัะน ะบะปัั ะพั ัะตะนัะฐ #0)  โ               โ
โ     โ ๐ 9F2A (ะะะะซะ ะทะฐะผะพะบ! ะฑัะป 7892)        โโ ะะะะะะะะกะฏ!   โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ               โ
โ                                                                โ
โ     ะขะตะฟะตัั ัะตะนั #2:                                           โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ               โ
โ     โ ะกะะะค #2                                 โ               โ
โ     โ ๐ 7892 (ะพะถะธะดะฐะตั ััะฐััะน ะทะฐะผะพะบ)         โ               โ
โ     โ ะะ! ะะฐะผะพะบ ัะตะนัะฐ #1 ัะตะฟะตัั 9F2A!        โ               โ
โ     โ 7892 โ 9F2A  โ ะะะฎะง ะะ ะะะะฅะะะะข!      โ               โ
โ     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ               โ
โ                                                                โ
โ     ๐จ ะฆะะะฌ ะะะะะะะะะ! ะะพะดะดะตะปะบะฐ ะพะฑะฝะฐััะถะตะฝะฐ!                   โ
โ                                                                โ
โ  4๏ธโฃ ะะะกะะะะะซะ ะญะคะคะะะข:                                          โ
โ                                                                โ
โ     ะะทะผะตะฝะธะปะธ ัะตะนั #1 โ ะทะฐะผะพะบ ะธะทะผะตะฝะธะปัั โ ัะตะนั #2 ะฝะตะฒะฐะปะธะดะตะฝ   โ
โ                       โ ะทะฐะผะพะบ #2 ะธะทะผะตะฝะธะปัั โ ัะตะนั #3 ะฝะตะฒะฐะปะธะดะตะฝ โ
โ                       โ ... โ ะะกะฏ ะฆะะะฌ ะฟะพัะปะต #1 ะฝะตะฒะฐะปะธะดะฝะฐ!    โ
โ                                                                โ
โ  ๐ก ะะะงะะะฃ ะญะขะ ะะะะะะะฌะะ:                                      โ
โ                                                                โ
โ     โ ะะทะผะตะฝะธัั ะะะะ ะฑะปะพะบ = ะฝะตะฒะพะทะผะพะถะฝะพ                        โ
โ        (ัะปะตะดัััะธะน ะฑะปะพะบ ะพะฑะฝะฐััะถะธั ะฟะพะดะดะตะปะบั)                    โ
โ                                                                โ
โ     โ ะงัะพะฑั ะฟะพะดะดะตะปะฐัั ะดะฐะฝะฝัะต ะฝัะถะฝะพ:                          โ
โ        1. ะะทะผะตะฝะธัั ะฑะปะพะบ #1                                    โ
โ        2. ะะตัะตััะธัะฐัั ัะตั ะฑะปะพะบะฐ #1                            โ
โ        3. ะะทะผะตะฝะธัั prev_hash ะฒ ะฑะปะพะบะต #2                       โ
โ        4. ะะตัะตััะธัะฐัั ัะตั ะฑะปะพะบะฐ #2                            โ
โ        5. ... ะดะพ ะบะพะฝัะฐ ัะตะฟะธ!                                  โ
โ                                                                โ
โ     โ ะะปั 15,000 ะฑะปะพะบะพะฒ โ ะฟัะฐะบัะธัะตัะบะธ ะฝะตะฒะพะทะผะพะถะฝะพ!            โ
โ        (ะพัะพะฑะตะฝะฝะพ ั Proof-of-Work)                             โ
โ                                                                โ
โ  ๐ ะ ะะะะะฌะะะ ะะะะะ (Bitcoin):                                โ
โ                                                                โ
โ     - 1 ะฑะปะพะบ = ~10 ะผะธะฝัั ะผะฐะนะฝะธะฝะณะฐ                             โ
โ     - ะะพะดะดะตะปะฐัั 1000 ะฑะปะพะบะพะฒ = ~7 ะดะฝะตะน ัะฐะฑะพัั                  โ
โ     - ะะ! ะะพะบะฐ ะฒั ััะธัะฐะตัะต, ัะตัั ะดะพะฑะฐะฒะธะปะฐ ะฝะพะฒัะต ะฑะปะพะบะธ        โ
โ     - ะะตะฒะพะทะผะพะถะฝะพ ะดะพะณะฝะฐัั ะฑะตะท 51% computing power!             โ
โ                                                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะตัะฐัะพัะฐ ัะฐะฑะพัะฐะตั ะฟะพัะพะผั ััะพ:**
- ๐ **ะะฐะผะพะบ** = hash ะฑะปะพะบะฐ (ัะฝะธะบะฐะปัะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั)
- ๐ **ะะปัั** = prev_hash (ัััะปะบะฐ ะฝะฐ ะฟัะตะดัะดััะธะน ะฑะปะพะบ)
- ๐ **ะฆะตะฟั** = ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะทะฐะผะพะบโะบะปััโะทะฐะผะพะบโะบะปัั
- ๐จ **ะะฐะทััะฒ** = ะฝะตัะพะฒะฟะฐะดะตะฝะธะต ะบะปััะฐ ะธ ะทะฐะผะบะฐ (invalid chain)

---

### 3. Proof of Work (Mining)

**ะะพะฝัะตะฟัะธั:** ะฝะฐะนัะธ nonce, ััะพะฑั ัะตั ะฑะปะพะบะฐ ัะดะพะฒะปะตัะฒะพััะป ััะปะพะฒะธั (ะฝะฐะฟัะธะผะตั, ะฝะฐัะธะฝะฐะปัั ั N ะฝัะปะตะน).

```c
void mine_block(Block *block, int difficulty) {
    char target[65] = {0};
    for (int i = 0; i < difficulty; i++) {
        target[i] = '0';
    }
    
    block->nonce = 0;
    while (1) {
        block->hash = calculate_block_hash(block);
        
        char hash_str[65];
        sprintf(hash_str, "%016lx", block->hash);
        
        if (strncmp(hash_str, target, difficulty) == 0) {
            printf("Block mined! Nonce: %d\n", block->nonce);
            break;
        }
        
        block->nonce++;
    }
}
```

**ะกะปะพะถะฝะพััั mining:**
- Difficulty 1: ~16 ะฟะพะฟััะพะบ
- Difficulty 2: ~256 ะฟะพะฟััะพะบ
- Difficulty 4: ~65536 ะฟะพะฟััะพะบ
- Bitcoin: ~20 ะฒะตะดััะธั ะฝัะปะตะน (2^80 ะฟะพะฟััะพะบ!)

---

### 4. ะะตัะธัะธะบะฐัะธั ะฑะปะพะบัะตะนะฝะฐ

**ะัะพะฒะตัะบะธ:**
1. **ะฆะตะปะพััะฝะพััั ะฑะปะพะบะฐ:** `hash == calculate_block_hash(block)`
2. **ะกะฒัะทั ั ะฟัะตะดัะดััะธะผ:** `block[i].prev_hash == block[i-1].hash`
3. **Proof-of-work:** ัะตั ัะดะพะฒะปะตัะฒะพััะตั difficulty
4. **ะะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะธะฝะดะตะบัะพะฒ:** `block[i].index == i`

```c
bool verify_blockchain(Block *chain, int length, int difficulty) {
    for (int i = 0; i < length; i++) {
        // ะัะพะฒะตัะบะฐ 1: ัะตั ะฑะปะพะบะฐ
        unsigned long calculated_hash = calculate_block_hash(&chain[i]);
        if (chain[i].hash != calculated_hash) {
            printf("Block %d: hash mismatch!\n", i);
            return false;
        }
        
        // ะัะพะฒะตัะบะฐ 2: ัะฒัะทั ั ะฟัะตะดัะดััะธะผ
        if (i > 0 && chain[i].prev_hash != chain[i-1].hash) {
            printf("Block %d: chain broken!\n", i);
            return false;
        }
        
        // ะัะพะฒะตัะบะฐ 3: proof-of-work
        // (ะฟัะพะฒะตัะบะฐ difficulty)
    }
    
    return true;
}
```

**ะะธะทัะฐะปะธะทะฐัะธั blockchain (ัะฟัะพัะตะฝะฝะฐั):**

```
                BLOCKCHAIN CHAIN
                
Block 0 (GENESIS)                Block 1                     Block 2
โโโโโโโโโโโโโโโโโโโโ            โโโโโโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโโโโ
โ Index: 0         โ            โ Index: 1         โ         โ Index: 2         โ
โ Timestamp: ...   โ            โ Timestamp: ...   โ         โ Timestamp: ...   โ
โ Data: "GENESIS"  โ            โ Data: "TX #1"    โ         โ Data: "TX #2"    โ
โ Prev: 0x00000000 โ            โ Prev: 0x5FDB8A3C โโโโโ     โ Prev: 0x7A2B9C1D โโโโโ
โ Hash: 0x5FDB8A3C โโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโ   โ     โ Hash: 0x9E3D4F2A โ   โ
โโโโโโโโโโโโโโโโโโโโ            โโโโโโโโโโโโโโโโโโโโ         โโโโโโโโโโโโโโโโโโโโ   โ
                                                                                      โ
                                                             Block 3                  โ
                                                            โโโโโโโโโโโโโโโโโโโโ      โ
                                                            โ Index: 3         โ      โ
                                                            โ Timestamp: ...   โ      โ
                                                            โ Data: "TX #3"    โ      โ
                                                            โ Prev: 0x9E3D4F2A โโโโโโโโ
                                                            โ Hash: 0x4C1A5E8B โ
                                                            โโโโโโโโโโโโโโโโโโโโ

ะัะปะธ ะธะทะผะตะฝะธัั Block 1 โ ะตะณะพ hash ะธะทะผะตะฝะธััั โ Block 2 ะฑัะดะตั ะฝะตะฒะฐะปะธะดะฝัะผ (prev_hash ะฝะต ัะพะฒะฟะฐะดะตั)!
```

**ะัะธะผะตัั ะบัะธะฟัะพะณัะฐัะธัะตัะบะธั ัะตั-ััะฝะบัะธะน:**

| ะคัะฝะบัะธั | ะะฐะทะผะตั ะฒัะฒะพะดะฐ | ะัะธะผะตะฝะตะฝะธะต |
|---------|---------------|------------|
| **MD5** | 128 ะฑะธั | โ ะฃััะฐัะตะปะฐ (ะบะพะปะปะธะทะธะธ ะฝะฐะนะดะตะฝั) |
| **SHA-1** | 160 ะฑะธั | โ ะฃััะฐัะตะปะฐ (ะบะพะปะปะธะทะธะธ ั 2017) |
| **SHA-256** | 256 ะฑะธั | โ Bitcoin, TLS, ะฟะพะดะฟะธัะธ |
| **SHA-3** | ะะตัะตะผะตะฝะฝัะน | โ ะะพะฒัะน ััะฐะฝะดะฐัั (Keccak) |
| **BLAKE2** | ะะตัะตะผะตะฝะฝัะน | โ ะััััะฐั ะฐะปััะตัะฝะฐัะธะฒะฐ SHA |

**ะกะฒะพะนััะฒะพ: ะะฐะฒะธะฝะฝัะน ัััะตะบั (Avalanche Effect)**

```c
// ะะฐะถะต ะะะะ ะฑัะบะฒะฐ โ ัะพะฒะตััะตะฝะฝะพ ะดััะณะพะน ัะตั!
hash("MOONLIGHT") = 0x8F4E3C0A12D5B789
hash("MOONLIGH")  = 0x2A9D1F7C45E3A601  // ะะพัะปะตะดะฝัั ะฑัะบะฒะฐ ัะดะฐะปะตะฝะฐ

// ะะทะผะตะฝะตะฝะธะต ะพะดะฝะพะณะพ ะฑะธัะฐ ะผะตะฝัะตั ~50% ะฑะธั ะฒ ะฒััะพะดะต!
```

---

### 3. Proof-of-Work (Mining)

**ะะฐะดะฐัะฐ mining:** ะฝะฐะนัะธ `nonce`, ััะพะฑั ัะตั ะฑะปะพะบะฐ ัะดะพะฒะปะตัะฒะพััะป ััะปะพะฒะธั (ะฝะฐะฟัะธะผะตั, ะฝะฐัะธะฝะฐะปัั ั N ะฝัะปะตะน).

**ะัะธะผะตั:**
```
Target: ัะตั ะดะพะปะถะตะฝ ะฝะฐัะธะฝะฐัััั ั "00" (difficulty=2)

ะะพะฟััะบะฐ 1: nonce=0 โ hash=0x7A2B9C1D โ
ะะพะฟััะบะฐ 2: nonce=1 โ hash=0x8E3D4F2A โ
ะะพะฟััะบะฐ 3: nonce=2 โ hash=0x9F1A5B3C โ
...
ะะพะฟััะบะฐ 14289: nonce=14288 โ hash=0x004A7F8E โ (ะฝะฐัะธะฝะฐะตััั ั "00")
```

**ะะตะฐะปะธะทะฐัะธั mining:**

```c
void mine_block(Block *block, int difficulty) {
    char target[65] = {0};
    for (int i = 0; i < difficulty; i++) {
        target[i] = '0';
    }
    
    char hash_str[65];
    block->nonce = 0;
    
    while (1) {
        block->hash = calculate_block_hash(block);
        
        // ะัะตะพะฑัะฐะทัะตะผ ัะตั ะฒ hex-ัััะพะบั ะดะปั ะฟัะพะฒะตัะบะธ
        sprintf(hash_str, "%016lx", block->hash);
        
        if (strncmp(hash_str, target, difficulty) == 0) {
            printf("โ Block mined! Nonce: %d, Hash: 0x%016lx\n", 
                   block->nonce, block->hash);
            break;
        }
        
        block->nonce++;
    }
}

// ะัะพะฒะตัะบะฐ difficulty
bool check_difficulty(unsigned long hash, int difficulty) {
    char hash_str[65];
    sprintf(hash_str, "%016lx", hash);
    
    for (int i = 0; i < difficulty; i++) {
        if (hash_str[i] != '0') return false;
    }
    return true;
}
```

**Bitcoin Mining:**
- Bitcoin ะธัะฟะพะปัะทัะตั SHA-256 (ะดะฒะฐะถะดั!)
- Difficulty ะฐะฒัะพะผะฐัะธัะตัะบะธ ะบะพััะตะบัะธััะตััั ะบะฐะถะดัะต 2016 ะฑะปะพะบะพะฒ
- ะฆะตะปั: ะฝะพะฒัะน ะฑะปะพะบ ะบะฐะถะดัะต ~10 ะผะธะฝัั
- ะ 2020: difficulty โ 10ยฒยฒ (ะฝัะถะฝะพ 10ยฒยฒ ะฟะพะฟััะพะบ ะฒ ััะตะดะฝะตะผ!)

---

### 4. Immutability (ะะตะธะทะผะตะฝัะตะผะพััั)

**ะะพัะตะผั blockchain ะฝะตะธะทะผะตะฝัะตะผ?**

```
ะััะพะดะฝะฐั ัะตะฟั:
Block 0 โ Block 1 โ Block 2 โ Block 3
(hash A)  (hash B)  (hash C)  (hash D)

ะะพะฟััะบะฐ ะธะทะผะตะฝะธัั Block 1:
Block 0 โ Block 1* โ Block 2 โ Block 3
(hash A)  (hash B') (hash C)  (hash D)
              โ         โ
              โโโโโโโโโโโ
            ะกะฒัะทั ัะฐะทะพัะฒะฐะฝะฐ! prev_hash ะฝะต ัะพะฒะฟะฐะดะฐะตั!

ะะตะทัะปััะฐั:
โ Block 0 - ะฒะฐะปะธะดะตะฝ
โ Block 1 - ะธะทะผะตะฝะตะฝ (hash B โ hash B')
โ Block 2 - ะฝะตะฒะฐะปะธะดะตะฝ (prev_hash ัะบะฐะทัะฒะฐะตั ะฝะฐ hash B, ะฝะพ Block 1 ัะตะฟะตัั hash B')
โ Block 3 - ะฝะตะฒะฐะปะธะดะตะฝ (ะบะฐัะบะฐะดะฝัะน ัััะตะบั)
```

**ะะตัะธัะธะบะฐัะธั ัะตะฟะธ:**

```c
bool verify_blockchain(Block *chain, int length) {
    for (int i = 0; i < length; i++) {
        // 1. ะะตัะตััะธัะฐัั ัะตั ะฑะปะพะบะฐ
        unsigned long calculated_hash = calculate_block_hash(&chain[i]);
        
        if (calculated_hash != chain[i].hash) {
            printf("โ Block %d: hash mismatch!\n", i);
            printf("   Expected: 0x%016lx\n", chain[i].hash);
            printf("   Actual:   0x%016lx\n", calculated_hash);
            return false;
        }
        
        // 2. ะัะพะฒะตัะธัั ัะฒัะทั ั ะฟัะตะดัะดััะธะผ ะฑะปะพะบะพะผ
        if (i > 0 && chain[i].prev_hash != chain[i-1].hash) {
            printf("โ Block %d: chain broken!\n", i);
            printf("   Prev hash in block: 0x%016lx\n", chain[i].prev_hash);
            printf("   Actual prev hash:   0x%016lx\n", chain[i-1].hash);
            return false;
        }
    }
    
    printf("โ Blockchain is valid! All %d blocks verified.\n", length);
    return true;
}
```

---

### 5. ะัะธะผะตะฝะตะฝะธะต ะฒ ัะตะฐะปัะฝะพะผ ะผะธัะต

**Blockchain ะธัะฟะพะปัะทัะตััั ะดะปั:**
- ๐ฐ **ะัะธะฟัะพะฒะฐะปััั**: Bitcoin, Ethereum
- ๐ **Smart Contracts**: ัะฐะผะพะธัะฟะพะปะฝัะตะผัะต ะบะพะฝััะฐะบัั
- ๐ฅ **ะะตะดะธัะธะฝัะบะธะต ะทะฐะฟะธัะธ**: ะฝะตะธะทะผะตะฝัะตะผะฐั ะธััะพัะธั ะฟะฐัะธะตะฝัะฐ
- ๐ณ๏ธ **ะะพะปะพัะพะฒะฐะฝะธะต**: ะฟัะพะทัะฐัะฝัะต ะฒัะฑะพัั
- ๐ฆ **Supply Chain**: ะพััะปะตะถะธะฒะฐะฝะธะต ัะพะฒะฐัะพะฒ

**Bitcoin Block Structure:**
```c
typedef struct BitcoinBlock {
    uint32_t version;
    uint8_t prev_block_hash[32];  // SHA-256
    uint8_t merkle_root[32];       // Merkle tree ะบะพัะตะฝั ััะฐะฝะทะฐะบัะธะน
    uint32_t timestamp;
    uint32_t difficulty_bits;
    uint32_t nonce;
    // + ัะฟะธัะพะบ ััะฐะฝะทะฐะบัะธะน
} BitcoinBlock;
```

---

## ๐ป ะะฐะดะฐะฝะธั

### ๐๏ธ ะัะพะผะตะถััะพัะฝะฐั ะทะฐะดะฐัะฐ: Hash Avalanche Effect Tester โญโญโโโ

**ะะะะะ ะพัะฝะพะฒะฝะพะน ะผะธััะธะตะน ะฟะพััะตะฝะธััะนัะตัั ะฝะฐ ะปะฐะฒะธะฝะฝะพะผ ัััะตะบัะต!**

ะกะพะทะดะฐะนัะต ะธะฝััััะผะตะฝั `hash_avalanche_tester` ะดะปั ะฟัะพะฒะตัะบะธ ะบะฐัะตััะฒะฐ hash-ััะฝะบัะธะธ djb2.

**ะคะฐะนะป:** `artifacts/hash_avalanche_tester.c`

**ะงัะพ ัะตะฐะปะธะทะพะฒะฐัั:**
```c
// 1. Hash-ััะฝะบัะธั djb2
unsigned long hash_djb2(const unsigned char *str);

// 2. ะะพะดัััั ัะฐะทะปะธัะฐััะธััั ะฑะธั ะผะตะถะดั ะดะฒัะผั ัะตัะฐะผะธ
int count_bit_differences(unsigned long h1, unsigned long h2);

// 3. ะะธะทัะฐะปะธะทะฐัะธั ัะตัะฐ ะฒ binary ัะพัะผะฐัะต
void visualize_bits(unsigned long value, char *buffer);

// 4. ะขะตัั ะปะฐะฒะธะฝะฝะพะณะพ ัััะตะบัะฐ ะดะปั ะฟะฐัั ัััะพะบ
void test_avalanche_effect(const char *str1, const char *str2);
```

**ะขะตััะพะฒัะต ะฟะฐัั:**
- `"MOONLIGHT"` vs `"MOONLIGH"` (1 ัะธะผะฒะพะป ัะดะฐะปัะฝ)
- `"MOONLIGHT"` vs `"moonlight"` (case change)
- `"BLOCK_0"` vs `"BLOCK_1"` (1 ัะธััะฐ ะธะทะผะตะฝะตะฝะฐ)
- `"Transfer $15.7M to 0x4A7F"` vs `"Transfer $25.0M to 0x9B2C"`

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
โโโ AVALANCHE EFFECT TEST โโโ
Input 1: "MOONLIGHT"
Input 2: "MOONLIGH"

Hash 1:  0x7C8DF4A2  01111100100011011111010010100010
Hash 2:  0x2F91B6E5  00101111100100011011011011100101

Bit differences: 17 / 32 (53.1%)
โ Good avalanche effect! (expected ~50%)
```

**ะะพัะตะผั ััะพ ะฒะฐะถะฝะพ ะดะปั Episode 14?**
- ะะฐะฒะธะฝะฝัะน ัััะตะบั = ะฑะฐะทะฐ blockchain integrity
- ะะทะผะตะฝะตะฝะธะต 1 ะฑะฐะนัะฐ ะฒ ะฑะปะพะบะต โ ะฒะตัั hash ะดััะณะพะน
- ะกะปะตะดัััะธะน ะฑะปะพะบ ะพะฑะฝะฐััะถะธะฒะฐะตั ะฟะพะดะดะตะปะบั (prev_hash ะฝะต ัะพะฒะฟะฐะดัั)

**ะะพะผะฟะธะปััะธั ะธ ะทะฐะฟััะบ:**
```bash
cd artifacts
gcc -Wall -Wextra -std=c11 hash_avalanche_tester.c -o hash_tester
./hash_tester
```

**ะขะตัั:**
```bash
cd tests
./test_avalanche.sh
```

**ะะตัะตะฝะธะต:** `solution/hash_avalanche_tester_solution.c` (ัะผะพััะตัั ัะพะปัะบะพ ะตัะปะธ ะทะฐััััะปะธ!)

---

### ะะฐะดะฐะฝะธะต 1: Hash Function Implementation โญโญโโโ

ะะตะฐะปะธะทัะนัะต ะฟัะพัััั ัะตั-ััะฝะบัะธั ะธ ัะตััั.

```c
// TODO: ะะตะฐะปะธะทะพะฒะฐัั
unsigned long hash_djb2(const unsigned char *str);

// TODO: ะขะตัั ะปะฐะฒะธะฝะฝะพะณะพ ัััะตะบัะฐ
void test_avalanche_effect(void);
```

**ะัะธัะตัะธะธ:**
- ะะดะธะฝะฐะบะพะฒัะน ะฒัะพะด โ ะพะดะธะฝะฐะบะพะฒัะน ัะตั
- ะะฐะปะพะต ะธะทะผะตะฝะตะฝะธะต ะฒัะพะดะฐ โ ะฑะพะปััะพะต ะธะทะผะตะฝะตะฝะธะต ัะตัะฐ

---

### ะะฐะดะฐะฝะธะต 2: Blockchain Structure โญโญโญโโ

ะกะพะทะดะฐะนัะต ััััะบัััั ะฑะปะพะบะฐ ะธ ััะฝะบัะธะธ ะดะปั ัะฐะฑะพัั ั ัะตะฟัั.

```c
typedef struct Block {
    int index;
    time_t timestamp;
    char data[256];
    unsigned long prev_hash;
    unsigned long hash;
    int nonce;
} Block;

// TODO: ะะตะฐะปะธะทะพะฒะฐัั
void create_genesis_block(Block *block);
void add_block(Block *chain, int index, const char *data);
unsigned long calculate_block_hash(Block *block);
```

---

### ะะฐะดะฐะฝะธะต 3: Blockchain Verification โญโญโญโญโ

ะะตัะธัะธัะธััะนัะต ัะตะปะพััะฝะพััั blockchain.

```c
// TODO: ะะตะฐะปะธะทะพะฒะฐัั
bool verify_blockchain(Block *chain, int length);
int find_corrupted_blocks(Block *chain, int length);
```

**ะัะพะฒะตัะบะธ:**
- ะฆะตะปะพััะฝะพััั ัะตัะตะน
- ะกะฒัะทะฝะพััั ัะตะฟะธ
- ะะพััะตะบัะฝะพััั ะธะฝะดะตะบัะพะฒ

---

### ะะฐะดะฐะฝะธะต 4: Proof-of-Work (Mining) โญโญโญโญโญ

ะะตะฐะปะธะทัะนัะต ะฟัะพััะพะน mining ั difficulty.

```c
// TODO: ะะตะฐะปะธะทะพะฒะฐัั
void mine_block(Block *block, int difficulty);
bool check_difficulty(unsigned long hash, int difficulty);
```

**ะะพะฝัะตะฟัะธั:** ะะฐะนัะธ nonce, ััะพะฑั ัะตั ะฑะปะพะบะฐ ะฝะฐัะธะฝะฐะปัั ั N ะฝัะปะตะน (ะฒ hex ะฟัะตะดััะฐะฒะปะตะฝะธะธ).

**ะัะธะผะตั:**
- difficulty=1: ัะตั ะดะพะปะถะตะฝ ะฝะฐัะธะฝะฐัััั ั "0..."
- difficulty=2: ัะตั ะดะพะปะถะตะฝ ะฝะฐัะธะฝะฐัััั ั "00..."
- difficulty=3: ัะตั ะดะพะปะถะตะฝ ะฝะฐัะธะฝะฐัััั ั "000..."

---

## ๐ Hints

<details>
<summary>ะะพะดัะบะฐะทะบะฐ 1: djb2 hash function</summary>

```c
unsigned long hash_djb2(const unsigned char *str) {
    unsigned long hash = 5381;
    int c;
    
    while ((c = *str++)) {
        hash = ((hash << 5) + hash) + c;
    }
    
    return hash;
}
```

</details>

<details>
<summary>ะะพะดัะบะฐะทะบะฐ 2: Block hash calculation</summary>

ะฅะตั ะฑะปะพะบะฐ = ัะตั ะพั ะบะพะฝะบะฐัะตะฝะฐัะธะธ ะฒัะตั ะฟะพะปะตะน:
```c
char buffer[512];
snprintf(buffer, sizeof(buffer), "%d%ld%s%lu%d",
         block->index,
         block->timestamp,
         block->data,
         block->prev_hash,
         block->nonce);

return hash_djb2((unsigned char*)buffer);
```

</details>

<details>
<summary>ะะพะดัะบะฐะทะบะฐ 3: Chain verification</summary>

ะะปั ะบะฐะถะดะพะณะพ ะฑะปะพะบะฐ (ะบัะพะผะต genesis):
1. ะะตัะตััะธัะฐัั ัะตั โ ััะฐะฒะฝะธัั ั block->hash
2. ะัะพะฒะตัะธัั block->prev_hash == chain[i-1].hash
3. ะัะปะธ ะฝะต ัะพะฒะฟะฐะดะฐะตั โ ะฑะปะพะบ ะฟะพะฒัะตะถะดะตะฝ

</details>

---

## ๐ ะกัััะบัััะฐ ัะฟะธะทะพะดะฐ

```
episode-14-blockchain-hashes/
โโโ README.md               โ ะั ะทะดะตัั
โโโ artifacts/              โ ะะฐัะธ ัะตัะตะฝะธั
โ   โโโ blockchain.c        โ ะะตะฐะปะธะทะฐัะธั blockchain
โ   โโโ hash_test.c         โ ะขะตััั ัะตั-ััะฝะบัะธะธ
โ   โโโ verifier.c          โ ะะตัะธัะธะบะฐัะธั ัะตะฟะธ
โโโ data/
โ   โโโ moonlight_ledger.dat โ Blockchain ะพั V.
โโโ starter.c               โ ะจะฐะฑะปะพะฝั ะบะพะดะฐ
โโโ tests/
โ   โโโ test_hash.c
โ   โโโ test_blockchain.c
โ   โโโ test_mining.c
โโโ Makefile
```

---

## ๐ก ะะฐะบ ัะฐะฑะพัะฐัั

1. **ะะทััะธัะต ัะตะพัะธั** ะฒััะต (ัะตั-ััะฝะบัะธะธ, blockchain, PoW)
2. **ะัะบัะพะนัะต `starter.c`** โ ัะฐะผ ัะฐะฑะปะพะฝั ััััะบััั ะธ ััะฝะบัะธะน
3. **ะกะพะทะดะฐะนัะต ัะฐะนะปั ะฒ `artifacts/`:**
   - `artifacts/blockchain.c` โ ัะตะฐะปะธะทะฐัะธั Block, ัะตัะตะน, ะฒะตัะธัะธะบะฐัะธะธ
   - `artifacts/hash_test.c` โ ัะตััั ะปะฐะฒะธะฝะฝะพะณะพ ัััะตะบัะฐ
   - `artifacts/verifier.c` โ ะฟัะพะฒะตัะบะฐ `moonlight_ledger.dat`
4. **ะะพะผะฟะธะปะธััะนัะต:** `make` (ะธะปะธ `gcc artifacts/blockchain.c -o blockchain`)
5. **ะขะตััะธััะนัะต:** `make test` ะธะปะธ ะทะฐะฟัััะธัะต ัะฒะพะธ ะฟัะพะณัะฐะผะผั
6. **ะะตัะธัะธัะธััะนัะต ledger:** `./verifier data/moonlight_ledger.dat`

---

## ๐ค ะะพะฝััะพะปัะฝัะต ะฒะพะฟัะพัั (ะธะฝัะตะณัะธัะพะฒะฐะฝั ะฒ ััะถะตั ะผะธััะธะธ)

**๐ก ะญัะธ ะฒะพะฟัะพัั ะฟะพะผะพะณัั ะฟัะพะฒะตัะธัั ะฟะพะฝะธะผะฐะฝะธะต ะผะฐัะตัะธะฐะปะฐ ัะตัะตะท ะฟัะธะทะผั ััะถะตัะฐ Episode 14.**

### ะะฐะทะพะฒะพะต ะฟะพะฝะธะผะฐะฝะธะต (5 ะฒะพะฟัะพัะพะฒ):

<details>
<summary><strong>1. ะ 05:30 ะฒั ะฝะฐัะฐะปะธ ะฒะตัะธัะธะบะฐัะธั blockchain ั 15,000 ะฑะปะพะบะพะฒ. ะะพัะตะผั ะธะทะผะตะฝะตะฝะธะต Block #7250 ะดะตะปะฐะตั ะฝะตะฒะฐะปะธะดะฝัะผะธ ะะกะ ะฑะปะพะบะธ ะฟะพัะปะต ะฝะตะณะพ?</strong></summary>

**ะัะฒะตั:**

**ะะฐัะบะฐะดะฝัะน ัััะตะบั (Cascade Effect):**

ะะฐะถะดัะน ะฑะปะพะบ ัะพะดะตัะถะธั `prev_hash` โ ัะตั ะฟัะตะดัะดััะตะณะพ ะฑะปะพะบะฐ:

```
Block 7250          Block 7251           Block 7252
โโโโโโโโโโโโ       โโโโโโโโโโโโ        โโโโโโโโโโโโ
โ data: X  โ       โ data: Y  โ        โ data: Z  โ
โ hash: A2 โโโโโโโโโ prev: A2 โโโโโโโโโโ prev: B3 โ
โโโโโโโโโโโโ       โ hash: B3 โ        โ hash: C4 โ
                   โโโโโโโโโโโโ        โโโโโโโโโโโโ
```

**ะะทะผะตะฝะตะฝะธะต Block #7250:**
1. `data` ะธะทะผะตะฝัะฝ โ `hash` ะฟะตัะตััะธััะฒะฐะตััั โ ัะตะฟะตัั `0x9F` (ะฒะผะตััะพ `0xA2`)
2. Block #7251 ะพะถะธะดะฐะตั `prev_hash = 0xA2`
3. ะะ! Block #7250 ัะตะฟะตัั ะธะผะตะตั `hash = 0x9F`
4. **0xA2 โ 0x9F** โ Block #7251 ะฝะตะฒะฐะปะธะดะตะฝ!
5. Block #7251 ะฝะตะฒะฐะปะธะดะตะฝ โ ะตะณะพ `hash` ะฝะตะฟัะฐะฒะธะปัะฝัะน โ Block #7252 ะฝะตะฒะฐะปะธะดะตะฝ
6. ะ ัะฐะบ ะดะฐะปะตะต ะดะพ ะบะพะฝัะฐ ัะตะฟะธ!

**ะ ะบะพะดะต:**
```c
for (int i = 7251; i < 15000; i++) {
    if (chain[i].prev_hash != chain[i-1].hash) {
        printf("Block %d INVALID: prev_hash mismatch!\n", i);
        // ะัะต ะฑะปะพะบะธ ะฟะพัะปะต #7250 ะฝะตะฒะฐะปะธะดะฝั
    }
}
```

ะะพั ะฟะพัะตะผั blockchain ะฝะฐะทัะฒะฐัั **immutable** (ะฝะตะธะทะผะตะฝัะตะผัะผ)!

</details>

<details>
<summary><strong>2. ะ 07:12 ะพะฑะฝะฐััะถะตะฝ IP 185.220.101.47 ะฒ Block #7250. ะญัะพ ัะพั ะถะต IP ะธะท Season 2 Episode 07! ะงัะพ ััะพ ะทะฝะฐัะธั?</strong></summary>

**ะัะฒะตั:**

**ะกะฒัะทั ะผะตะถะดั ัะตะทะพะฝะฐะผะธ!**

**Season 2 Episode 07 (20:00):**
- ะคะฐะนะป `archive.dat` ัะฐัััั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- ะฃะดะฐะปัะฝะฝะฐั ะฐัะฐะบะฐ ะพั **185.220.101.47** (Tor exit node)
- ะขัะพัะฝัะบะฐั ะฟัะพะณัะฐะผะผะฐ ะพั ะฐะณะตะฝัะพะฒ Z.

**Season 4 Episode 14 (07:12):**
- Block #7250 ัะพะดะตัะถะธั ััะฐะฝะทะฐะบัะธั ะพั **185.220.101.47**
- ะะพะฟััะบะฐ ะฟะพะดะดะตะปะบะธ ัะธะฝะฐะฝัะพะฒัั ะทะฐะฟะธัะตะน
- ะขะฐ ะถะต ะณััะฟะฟะฐ ะฐัะฐะบัััะธั!

**ะงัะพ ััะพ ะทะฝะฐัะธั:**
1. ะะณะตะฝัั Z. ะธัะฟะพะปัะทััั **ัะพั ะถะต Tor node** ะดะปั ะฐัะฐะบ
2. Blockchain ledger ัะพะดะตัะถะธั **ัะปะตะด** ะธั ะฐะบัะธะฒะฝะพััะธ
3. ะะพะพัะดะธะฝะฐัั ะฒ blockchain โ ัะฐััั ะพะฟะตัะฐัะธะธ MOONLIGHT
4. V. ะพััะปะตะถะธะฒะฐะตั ะธั ัะตัะตะท blockchain (ะฟัะฑะปะธัะฝัะน ledger!)

**ะกะบะฒะพะทะฝะฐั ะปะธะฝะธั:**
```
S2 Ep07: ะัะฐะบะฐ ะพั 185.220.101.47 (ะฟะฐะผััั)
       โ
S4 Ep14: ะขะฐ ะถะต IP ะฒ blockchain (crypto-ัะธะฝะฐะฝัั)
       โ
S5: Financial Markets? (ะฟัะพะดะพะปะถะตะฝะธะต ัะปะตะดัะตั...)
```

Easter Egg: ะฟัะพะฒะตัััะต 185.220.101.47 ะฝะฐ ัะตะฐะปัะฝะพะผ tor exit node tracker!

</details>

<details>
<summary><strong>3. Genesis Block ัะพะทะดะฐะฝ 1 ัะฝะฒะฐัั 2020, 00:00:00. ะะพัะตะผั ััะพ ะฒะฐะถะฝะพ ะดะปั ะฒะตัะธัะธะบะฐัะธะธ ะฒัะตะน ัะตะฟะธ?</strong></summary>

**ะัะฒะตั:**

**Genesis Block = ัะบะพัั ะฒัะตะน ัะตะฟะธ**

```c
Block 0 (GENESIS)
โโโโโโโโโโโโโโโโโโโโโโโโโ
โ index: 0              โ
โ timestamp: 1577836800 โ โ Jan 1, 2020 00:00:00 UTC
โ data: "Operation MOONLIGHT initialized"
โ prev_hash: 0          โ โ ะะะข ะฟัะตะดัะดััะตะณะพ ะฑะปะพะบะฐ!
โ hash: 0x5FDB8A3C      โ โ ะะตัะฒัะน ัะตั ะฒ ัะตะฟะธ
โโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะพัะตะผั ะฒะฐะถะฝะพ:**

1. **ะะดะธะฝััะฒะตะฝะฝัะน ะฑะปะพะบ ะฑะตะท prev_hash:**
   ```c
   if (block[0].prev_hash != 0) {
       printf("Genesis block corrupted!\n");
       return false;
   }
   ```

2. **ะะตะธะทะผะตะฝัะตะผัะน anchor:**
   - ะัะต ััะฐััะฝะธะบะธ ัะตัะธ ะทะฝะฐัั ัะตั Genesis Block
   - ะะทะผะตะฝะตะฝะธะต Genesis โ ะฒัั ัะตะฟั ะฝะตะฒะฐะปะธะดะฝะฐ
   - ะะตะฒะพะทะผะพะถะฝะพ ะฟะพะดะดะตะปะฐัั ะธััะพัะธั ั ะฝะฐัะฐะปะฐ

3. **Proof of origin:**
   - Timestamp = ะฝะฐัะฐะปะพ ะพะฟะตัะฐัะธะธ
   - "MOONLIGHT initialized" = ะฟะพะดัะฒะตัะถะดะตะฝะธะต ะฟะพะดะปะธะฝะฝะพััะธ
   - ะงะฐััะพ ัะพะดะตัะถะธั ะฒะฐะถะฝะพะต ัะพะพะฑัะตะฝะธะต (Bitcoin: ะณะฐะทะตัะฐ The Times!)

4. **Validation starts here:**
   ```c
   unsigned long expected_hash = chain[0].hash; // 0x5FDB8A3C
   unsigned long calculated = calculate_block_hash(&chain[0]);
   
   if (expected_hash != calculated) {
       printf("Genesis block hash mismatch โ entire chain invalid!\n");
   }
   ```

**Bitcoin Genesis Block (Jan 3, 2009):**
```
"The Times 03/Jan/2009 Chancellor on brink of second bailout for banks"
```
Satoshi Nakamoto ะฒัััะพะธะป ะทะฐะณะพะปะพะฒะพะบ ะณะฐะทะตัั โ ะดะพะบะฐะทะฐัะตะปัััะฒะพ ััะพ ะฑะปะพะบ ัะพะทะดะฐะฝ ะฝะต ัะฐะฝััะต ััะพะน ะดะฐัั!

</details>

<details>
<summary><strong>4. Difficulty mining ะดะปั Bitcoin = 20 ะฒะตะดััะธั ะฝัะปะตะน (2^80 ะฟะพะฟััะพะบ). ะกะบะพะปัะบะพ ััะพ ะฒัะตะผะตะฝะธ ะฝะฐ ะฒะฐัะตะผ ะบะพะผะฟัััะตัะต?</strong></summary>

**ะัะฒะตั:**

**ะะฐัััั:**

ะะพะฟัััะธะผ ะฒะฐั ะบะพะผะฟัััะตั ะฒััะธัะปัะตั SHA-256:
- ะกัะตะดะฝะธะน CPU: ~1 ะผะธะปะปะธะพะฝ ัะตัะตะน/ัะตะบ (1 MH/s)
- ะฅะพัะพัะธะน GPU: ~100 MH/s
- ASIC ะผะฐะนะฝะตั: ~100 TH/s (ัะตัะฐัะตั!)

**ะะปั 20 ะฒะตะดััะธั ะฝัะปะตะน:**
```
ะะพะฟััะพะบ = 2^80 โ 1.2 ร 10^24 (ะบะฒะธะฝัะธะปะปะธะพะฝ!)
```

**ะะฐ ะฒะฐัะตะผ CPU (1 MH/s):**
```
ะัะตะผั = 1.2 ร 10^24 / 1,000,000 = 1.2 ร 10^18 ัะตะบัะฝะด
      = 38 ะผะธะปะปะธะฐัะดะพะฒ ะปะตั!
      = 2.7ร ะฒะพะทัะฐัั ะัะตะปะตะฝะฝะพะน! ๐คฏ
```

**ะะฐ GPU (100 MH/s):**
```
ะัะตะผั = 380 ะผะธะปะปะธะพะฝะพะฒ ะปะตั (ะฒัั ะตัั ะฑะตะทัะผะฝะพ ะดะพะปะณะพ!)
```

**ะะฐ ASIC (100 TH/s):**
```
ะัะตะผั = 3.8 ะผะตัััะฐ (ะฝะพ difficulty ะฟะพััะพัะฝะฝะพ ัะฐัััั!)
```

**ะะพัะตะผั Bitcoin ัะฐะฑะพัะฐะตั?**

1. **ะัั ัะตัั ะผะฐะนะฝะธั ะฒะผะตััะต:**
   - ~200 exahash/s (EH/s) = 200,000,000 TH/s
   - ะะปะพะบ ะฝะฐัะพะดะธััั ะบะฐะถะดัะต ~10 ะผะธะฝัั

2. **Difficulty ะบะพััะตะบัะธััะตััั:**
   - ะะฐะถะดัะต 2016 ะฑะปะพะบะพะฒ (~2 ะฝะตะดะตะปะธ)
   - ะัะปะธ ะฑะปะพะบะธ ะฝะฐัะพะดัััั ะฑััััะตะต โ difficulty ัะฐัััั
   - ะัะปะธ ะผะตะดะปะตะฝะฝะตะต โ difficulty ะฟะฐะดะฐะตั

3. **Proof-of-Work ะทะฐัะธัะฐะตั ะพั ะฟะพะดะดะตะปะพะบ:**
   - ะงัะพะฑั ะธะทะผะตะฝะธัั 1000 ะฑะปะพะบะพะฒ ะฝะฐะทะฐะด:
     - ะะตัะตััะธัะฐัั PoW ะดะปั ะฒัะตั 1000
     - ะะพะณะฝะฐัั ัะตะบัััั ัะตะฟั
     - **ะัะถะฝะพ >51% ะผะพัะฝะพััะธ ัะตัะธ!**

**ะ Episode 14 (difficulty=2):**
```
ะะพะฟััะพะบ = 16^2 = 256 (ะฒ ััะตะดะฝะตะผ)
ะัะตะผั ะฝะฐ CPU = 0.0002 ัะตะบัะฝะดั ๐
```

</details>

<details>
<summary><strong>5. ะะฐะฒะธะฝะฝัะน ัััะตะบั: ะธะทะผะตะฝะตะฝะธะต 1 ะฑะฐะนัะฐ โ ~50% ะฑะธั ะผะตะฝััััั. ะะพัะตะผั ะธะผะตะฝะฝะพ 50%, ะฐ ะฝะต 100% ะธะปะธ 0%?</strong></summary>

**ะัะฒะตั:**

**ะกัะฐัะธััะธัะตัะบะพะต ัะฐัะฟัะตะดะตะปะตะฝะธะต:**

ะฅะพัะพัะฐั hash-ััะฝะบัะธั ะดะพะปะถะฝะฐ ะฑััั **ะฟัะตะฒะดะพัะปััะฐะนะฝะพะน**:

```
ะะทะผะตะฝะธะปะธ 1 ะฑะธั ะฒัะพะดะฐ โ ะบะฐะถะดัะน ะฑะธั ะฒััะพะดะฐ ะธะผะตะตั 50% ัะฐะฝั ะธะทะผะตะฝะธัััั
```

**ะะพัะตะผั 50%?**

1. **ะะฝะฐะปะพะณะธั ั ะฟะพะดะฑัะฐััะฒะฐะฝะธะตะผ ะผะพะฝะตัั:**
   - 32-ะฑะธัะฝัะน ัะตั = 32 ะผะพะฝะตัะบะธ
   - ะะฐะถะดะฐั ะผะพะถะตั ัะฟะฐััั ะพัะปะพะผ (0) ะธะปะธ ัะตัะบะพะน (1) ั ะฒะตัะพััะฝะพัััั 50%
   - ะ ััะตะดะฝะตะผ: 16 ะพัะปะพะฒ, 16 ัะตัะตะบ

2. **ะะฐัะตะผะฐัะธะบะฐ:**
   ```
   P(ะฑะธั ะธะทะผะตะฝะธะปัั) = 0.5  (ะดะปั ัะพัะพัะตะน hash-ััะฝะบัะธะธ)
   ะะถะธะดะฐะตะผะพะต ะบะพะปะธัะตััะฒะพ ะธะทะผะตะฝะตะฝะธะน = 32 * 0.5 = 16 ะฑะธั
   ```

3. **ะะพัะตะผั ะะ 100%?**
   - ะัะปะธ ะะกะ ะฑะธัั ะฒัะตะณะดะฐ ะผะตะฝััััั โ ััะฝะบัะธั ะฟัะตะดัะบะฐะทัะตะผะฐ!
   - ะะปะพัะผััะปะตะฝะฝะธะบ: "ะะณะฐ, ะธะทะผะตะฝะธะป 1 ะฑะฐะนั โ ะฒัะต ะฑะธัั ัะปะธะฟะฝัะปะธัั"

4. **ะะพัะตะผั ะะ 0%?**
   - 0% = ัะตั ะฝะต ะธะทะผะตะฝะธะปัั = ะฝะตั ะปะฐะฒะธะฝะฝะพะณะพ ัััะตะบัะฐ
   - ะะพะถะฝะพ ะฟะพะดะพะฑัะฐัั ะฟะพัะพะถะธะต ะฒัะพะดั โ collision attack

**ะัะพะฒะตัะบะฐ ะฒ ะบะพะดะต:**
```c
int diff = count_bit_differences(h1, h2);
double percent = 100.0 * diff / 32;

if (percent >= 40 && percent <= 60) {
    printf("โ Good avalanche (close to 50%%)\n");
} else {
    printf("โ Poor avalanche (too far from 50%%)\n");
}
```

**ะะตะฐะปัะฝัะน ะฟัะธะผะตั (SHA-256):**
```
hash("MOONLIGHT") = 8f4e3c0a...
hash("MOONLIGH")  = 2a9d1f7c...

Bit differences: 128 / 256 = 50.0% โ
```

ะะดะตะฐะปัะฝะฐั hash-ััะฝะบัะธั = ะฝะตะพัะปะธัะธะผะฐ ะพั ัะปััะฐะนะฝะพะณะพ ะพัะฐะบัะปะฐ!

</details>

---

### ะัะฐะบัะธัะตัะบะพะต ะฟัะธะผะตะฝะตะฝะธะต (5 ะฒะพะฟัะพัะพะฒ):

<details>
<summary><strong>6. ะ 06:45 verify_blockchain() ะฝะฐััะป Block #7250 ะฝะตะฒะฐะปะธะดะฝัะผ. ะะฐะบ ะพะฟัะตะดะตะปะธัั ะฑัะป ะปะธ ััะพ ัะปััะฐะนะฝัะน corruption ะธะปะธ ะฝะฐะผะตัะตะฝะฝะฐั ะฟะพะดะดะตะปะบะฐ?</strong></summary>

**ะัะฒะตั:**

**ะะฝะฐะปะธะท ัะธะฟะฐ ะฝะตะฒะฐะปะธะดะฝะพััะธ:**

```c
// 1. ะัะพะฒะตััะตะผ ะะะ ะพัะธะฑะบะธ
if (chain[i].hash != calculate_block_hash(&chain[i])) {
    printf("Hash mismatch โ ะฒะพะทะผะพะถะฝะพ corruption\n");
    
    // ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะฟัะพะฒะตัะบะธ:
    
    // A. ะะธัะพะฒัะต ะพัะธะฑะบะธ (ัะปััะฐะนะฝัะต)
    int bit_diff = count_bit_differences(chain[i].hash, calculated);
    if (bit_diff == 1 || bit_diff == 2) {
        printf("โ Likely BIT FLIP (cosmic ray, disk error)\n");
        printf("โ Random corruption\n");
    }
    
    // B. ะะพะปะฝะพะต ะฝะตัะพะฒะฟะฐะดะตะฝะธะต (ะฝะฐะผะตัะตะฝะฝะพะต)
    else if (bit_diff > 10) {
        printf("โ Major hash change (>10 bits)\n");
        printf("โ Likely DELIBERATE tampering!\n");
        
        // ะัะพะฒะตััะตะผ ะดะฐะฝะฝัะต ะฑะปะพะบะฐ
        if (strstr(chain[i].data, "Transfer") != NULL) {
            printf("โ Financial transaction modified!\n");
            printf("โ SUSPICIOUS: possible fraud attempt\n");
        }
    }
}
```

**ะัะธะทะฝะฐะบะธ ะฝะฐะผะตัะตะฝะฝะพะน ะฟะพะดะดะตะปะบะธ:**

1. **ะะฐะฝะฝัะต ะธะทะผะตะฝะตะฝั ะปะพะณะธัะฝะพ:**
   ```
   ะัะปะพ: "Transfer $250K to 0x4A7F"
   ะกัะฐะปะพ: "Transfer $1.5M to 0x4A7F"  โ ััะผะผะฐ ัะฒะตะปะธัะตะฝะฐ!
   ```

2. **IP ะฐะดัะตั ะธะทะฒะตััะฝะพะณะพ ะทะปะพัะผััะปะตะฝะฝะธะบะฐ:**
   ```c
   if (strstr(chain[i].data, "185.220.101.47") != NULL) {
       printf("โ Known attacker IP from Season 2!\n");
   }
   ```

3. **ะะฐััะตัะฝ ะฐัะฐะบะธ:**
   ```
   Block #7250: ััะผะผะฐ ะธะทะผะตะฝะตะฝะฐ
   Block #7251: ะฒะฐะปะธะดะตะฝ (ะฝะต ััะพะฝัั)
   Block #7252: ััะผะผะฐ ะธะทะผะตะฝะตะฝะฐ
   โ ะกะธััะตะผะฐัะธัะตัะบะฐั ะฟะพะดะดะตะปะบะฐ!
   ```

4. **Timestamp ะฟะพะดะพะทัะธัะตะปะตะฝ:**
   ```c
   if (chain[i].timestamp > chain[i+1].timestamp) {
       printf("โ Timestamp inconsistency!\n");
       printf("โ Block was backdated\n");
   }
   ```

**ะกะปััะฐะนะฝัะน corruption:**
- 1-2 ะฑะธัะฐ ะพัะปะธัะฐัััั
- ะะตั ะปะพะณะธะบะธ ะฒ ะธะทะผะตะฝะตะฝะธัั ะดะฐะฝะฝัั
- ะะดะธะฝะธัะฝัะน ัะปััะฐะน

**ะะฐะผะตัะตะฝะฝะฐั ะฟะพะดะดะตะปะบะฐ:**
- ะะฝะพะณะพ ะฑะธั ะธะทะผะตะฝะธะปะธัั (~50%)
- ะะฐะฝะฝัะต ะปะพะณะธัะฝะพ ะธะทะผะตะฝะตะฝั ($250K โ $1.5M)
- ะะฝะพะถะตััะฒะตะฝะฝัะต ะฑะปะพะบะธ
- ะกะปะตะดั ะฐัะฐะบัััะตะณะพ (IP 185.220.101.47)

</details>

<details>
<summary><strong>7. Proof-of-Work ะดะปั difficulty=2 ะทะฐะฝัะป 256 ะฟะพะฟััะพะบ. ะกะบะพะปัะบะพ ะฟะพะฟััะพะบ ะดะปั difficulty=4?</strong></summary>

**ะัะฒะตั:**

**ะญะบัะฟะพะฝะตะฝัะธะฐะปัะฝัะน ัะพัั:**

```
Difficulty = N ะฒะตะดััะธั ะฝัะปะตะน ะฒ hex
```

**Hex digit ะผะพะถะตั ะฑััั:** 0-9, A-F (16 ะฒะฐัะธะฐะฝัะพะฒ)

**ะะตัะพััะฝะพััั:**
```
Difficulty 1: ะพะดะธะฝ ะฝะพะปั โ 1/16 โ 6.25%
  โ ะะพะฟััะพะบ ะฒ ััะตะดะฝะตะผ: 16

Difficulty 2: ะดะฒะฐ ะฝัะปั โ 1/256 โ 0.39%
  โ ะะพะฟััะพะบ: 256

Difficulty 3: ััะธ ะฝัะปั โ 1/4096
  โ ะะพะฟััะพะบ: 4,096

Difficulty 4: ัะตัััะต ะฝัะปั โ 1/65536
  โ ะะพะฟััะพะบ: 65,536
```

**ะคะพัะผัะปะฐ:**
```c
avg_attempts = pow(16, difficulty);

// Difficulty 2: 16^2 = 256 โ
// Difficulty 4: 16^4 = 65,536
```

**ะัะตะผั ะฝะฐ ะพะฑััะฝะพะผ CPU:**
```c
// ะะพะฟัััะธะผ: 1 million hashes/sec
double time_sec = avg_attempts / 1000000.0;

Difficulty 2: 256 / 1,000,000 = 0.0002 ัะตะบ
Difficulty 4: 65,536 / 1,000,000 = 0.065 ัะตะบ
Difficulty 6: 16,777,216 / 1,000,000 = 16.7 ัะตะบ
Difficulty 8: ~1 ัะฐั
Difficulty 10: ~7 ะดะฝะตะน
```

**Bitcoin (difficulty โ 20):**
```
16^20 = 1.2 ร 10^24 ะฟะพะฟััะพะบ
ะะฐ ะฒัะตะน ัะตัะธ (200 EH/s): ~10 ะผะธะฝัั
```

**ะ Episode 14:**
```c
// ะะปั ะฑััััะพะณะพ ะผะฐะนะฝะธะฝะณะฐ ะธัะฟะพะปัะทัะตะผ difficulty=2
mine_block(&block, 2);  // ~256 ะฟะพะฟััะพะบ, ะผะณะฝะพะฒะตะฝะฝะพ

// ะะปั ัะตะฐะปะธััะธัะฝะพััะธ ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั difficulty=4
mine_block(&block, 4);  // ~65,536 ะฟะพะฟััะพะบ, ัะตะบัะฝะดั
```

</details>

<details>
<summary><strong>8. Merkle Tree ัะฟะพะผัะฝัั ะฒ ัะตะพัะธะธ. ะะฐะบ ะพะฝ ััะบะพััะตั ะฒะตัะธัะธะบะฐัะธั ะธะทะผะตะฝะตะฝะธะน ะฒ ะฑะพะปััะพะผ blockchain?</strong></summary>

**ะัะฒะตั:**

**Merkle Tree = ะธะตัะฐััะธัะตัะบะพะต ัะตัะธัะพะฒะฐะฝะธะต**

```
        ROOT HASH
         /     \
       H12     H34
       / \     / \
      H1  H2  H3  H4
      |   |   |   |
    TX1  TX2 TX3 TX4
```

**ะัะตะธะผััะตััะฒะฐ:**

1. **ะััััะฐั ะฟัะพะฒะตัะบะฐ ะฟัะธะฝะฐะดะปะตะถะฝะพััะธ:**
   
   ะะตะท Merkle Tree (ะฟัะพะฒะตัะบะฐ ััะพ TX2 ะฒ ะฑะปะพะบะต):
   ```c
   // ะัะถะฝะพ ะฟัะพะฒะตัะธัั ะะกะ ััะฐะฝะทะฐะบัะธะธ
   for (int i = 0; i < 10000; i++) {
       if (transactions[i] == TX2) return true;
   }
   // O(n) ะพะฟะตัะฐัะธะน
   ```

   ะก Merkle Tree:
   ```c
   // ะัะถะฝะพ ัะพะปัะบะพ 3 ัะตัะฐ! (logโ 10000 โ 13)
   verify_path: TX2 โ H2 โ H12 โ ROOT
   // O(log n) ะพะฟะตัะฐัะธะน
   ```

2. **ะะพะผะฟะฐะบัะฝะพะต ะดะพะบะฐะทะฐัะตะปัััะฒะพ:**
   
   Blockchain ั 10,000 ััะฐะฝะทะฐะบัะธะน:
   - ะะตะท Merkle: ะฝัะถะฝะพ ะฟะตัะตะดะฐัั ะฒัะต 10,000 TX (ะผะตะณะฐะฑะฐะนัั!)
   - ะก Merkle: ัะพะปัะบะพ ~13 ัะตัะตะน (ะบะธะปะพะฑะฐะนัั)

3. **ะงะฐััะธัะฝะฐั ะฒะตัะธัะธะบะฐัะธั:**
   
   ```c
   // ะะตะณะบะธะน ะบะปะธะตะฝั (SPV - Simplified Payment Verification)
   // ะะต ัะบะฐัะธะฒะฐะตั ะะกะ ััะฐะฝะทะฐะบัะธะธ, ัะพะปัะบะพ:
   - Merkle root (ะฒ ะทะฐะณะพะปะพะฒะบะต ะฑะปะพะบะฐ)
   - Merkle proof ะดะปั ะธะฝัะตัะตััััะธั TX
   
   // ะะพะฑะธะปัะฝัะน Bitcoin ะบะพัะตะปัะบ = SPV ะบะปะธะตะฝั!
   ```

4. **ะะฑะฝะฐััะถะตะฝะธะต ะธะทะผะตะฝะตะฝะธะน:**
   
   ```
   ะะทะผะตะฝะธะปะธ TX2 โ H2 ะธะทะผะตะฝะธะปัั โ H12 ะธะทะผะตะฝะธะปัั โ ROOT ะธะทะผะตะฝะธะปัั
   
   ะัะพะฒะตัะบะฐ:
   if (block.merkle_root != calculated_root) {
       printf("Block modified!\n");
   }
   // ะะดะฝะฐ ะฟัะพะฒะตัะบะฐ ะฒะผะตััะพ 10,000!
   ```

**ะ Episode 14 (ัะฟัะพััะฝะฝะพ):**
```c
// Blockchain ะธะท 15,000 ะฑะปะพะบะพะฒ
// ะะฐะถะดัะน ะฑะปะพะบ: hash ะฒัะตั ะดะฐะฝะฝัั

// ะก Merkle Tree:
typedef struct Block {
    int index;
    time_t timestamp;
    unsigned long merkle_root;  // Root of TX Merkle Tree
    unsigned long prev_hash;
    unsigned long hash;         // Hash ะทะฐะณะพะปะพะฒะบะฐ (+ merkle_root)
} Block;
```

**Bitcoin ะฝะฐ ะฟัะฐะบัะธะบะต:**
- ะะปะพะบ ัะพะดะตัะถะธั ~2000 ััะฐะฝะทะฐะบัะธะน
- Merkle Tree ะณะปัะฑะธะฝะฐ โ 11 ััะพะฒะฝะตะน
- SPV proof = 11 ัะตัะตะน = ~352 ะฑะฐะนัะฐ (ะฒะผะตััะพ ะผะตะณะฐะฑะฐะนั!)

</details>

<details>
<summary><strong>9. 51% Attack ัะฟะพะผัะฝัั ะบะฐะบ ัะณัะพะทะฐ. ะัะปะธ ะทะปะพัะผััะปะตะฝะฝะธะบ ะบะพะฝััะพะปะธััะตั 51% computing power, ััะพ ะพะฝ ะผะพะถะตั ัะดะตะปะฐัั?</strong></summary>

**ะัะฒะตั:**

**51% Attack = ะบะพะฝััะพะปั ะฑะพะปััะธะฝััะฒะฐ ะผะฐะนะฝะธะฝะณะพะฒะพะน ะผะพัะฝะพััะธ**

**ะงัะพ ะะะะะข ะทะปะพัะผััะปะตะฝะฝะธะบ:**

1. **Double-Spend (ะดะฒะพะนะฝะฐั ััะฐัะฐ):**
   
   ```
   ะจะฐะณ 1: ะัะฟัะฐะฒะธัั ััะฐะฝะทะฐะบัะธั ะถะตััะฒะต
   
   Honest Chain:        Attacker's Chain (ัะตะบัะตัะฝะฐั):
   [...] โ Block N โ    [...] โ Block N' โ Block N'+1 โ
           TX: "Pay victim 10 BTC"         TX: "Pay myself"
   
   ะจะฐะณ 2: ะะตััะฒะฐ ะถะดัั 1-2 ะฟะพะดัะฒะตัะถะดะตะฝะธั
   
   Honest Chain:
   [...] โ Block N โ Block N+1 โ Block N+2
           "Paid!"      โ            โ
   
   ะจะฐะณ 3: ะะตััะฒะฐ ะพัะฟัะฐะฒะปัะตั ัะพะฒะฐั ๐ฆ
   
   ะจะฐะณ 4: ะะปะพัะผััะปะตะฝะฝะธะบ ะฟัะฑะปะธะบัะตั ะกะะะฎ ัะตะฟั (ะดะปะธะฝะฝะตะต!)
   
   Attacker's Chain (ัะตะฟะตัั ะฟัะฑะปะธัะฝะฐั):
   [...] โ Block N' โ Block N'+1 โ Block N'+2 โ Block N'+3
                                    โ ะญัะฐ ัะตะฟั ะดะปะธะฝะฝะตะต!
   
   ะะตะทัะปััะฐั:
   - ะกะตัั ะฒัะฑะธัะฐะตั ะดะปะธะฝะฝัั ัะตะฟั (ะฟัะฐะฒะธะปะพ ะบะพะฝัะตะฝัััะฐ)
   - ะขัะฐะฝะทะฐะบัะธั ะถะตััะฒะต ะะขะะะะฏะะขะกะฏ
   - ะะปะพัะผััะปะตะฝะฝะธะบ ะฟะพะปััะธะป ัะพะฒะฐั, ะฝะพ ะฝะต ะทะฐะฟะปะฐัะธะป! ๐ฐ
   ```

2. **Censorship (ัะตะฝะทััะฐ ััะฐะฝะทะฐะบัะธะน):**
   ```c
   // ะะปะพัะผััะปะตะฝะฝะธะบ ะผะพะถะตั ะธะณะฝะพัะธัะพะฒะฐัั ะพะฟัะตะดะตะปัะฝะฝัะต TX
   if (transaction.from == "blacklisted_address") {
       skip_transaction();  // ะะต ะฒะบะปััะฐัั ะฒ ะฑะปะพะบ
   }
   ```

3. **Rewrite Recent History (ะฟะตัะตะฟะธัะฐัั ะฝะตะดะฐะฒะฝัั ะธััะพัะธั):**
   ```
   ะะพะถะฝะพ ะพัะบะฐัะธัั ะฟะพัะปะตะดะฝะธะต N ะฑะปะพะบะพะฒ (ะตัะปะธ 51% ะผะพัะฝะพััะธ)
   ะะ! ะงะตะผ ะดะฐะปััะต ะฒ ะฟัะพัะปะพะต โ ัะตะผ ัะปะพะถะฝะตะต
   ```

**ะงัะพ ะะ ะะะะะข:**

โ **ะฃะบัะฐััั ััะถะธะต ะผะพะฝะตัั** (ะฝัะถะฝะฐ private key)
โ **ะะทะผะตะฝะธัั consensus rules** (ัะฐัะดัะพัะบ ััะตะฑัะตั ัะพะณะปะฐัะธั ะฒัะตะน ัะตัะธ)
โ **ะกะพะทะดะฐัั ะผะพะฝะตัั ะธะท ะฝะธัะตะณะพ** (ะฑะปะพะบะธััะตั ะฟัะพัะพะบะพะป)
โ **ะะตัะตะฟะธัะฐัั ััะฐััั ะธััะพัะธั** (ัะปะธัะบะพะผ ะดะพัะพะณะพ ะฒััะธัะปะธัะตะปัะฝะพ)

**ะะฐัะธัะฐ:**

1. **ะะดะฐัั ะฑะพะปััะต ะฟะพะดัะฒะตัะถะดะตะฝะธะน:**
   ```
   1 ะฟะพะดัะฒะตัะถะดะตะฝะธะต: 51% attack ะฒะพะทะผะพะถะตะฝ
   6 ะฟะพะดัะฒะตัะถะดะตะฝะธะน: ะฟัะฐะบัะธัะตัะบะธ ะฝะตะฒะพะทะผะพะถะตะฝ
   100 ะฟะพะดัะฒะตัะถะดะตะฝะธะน: ะฐะฑัะพะปััะฝะพ ะฑะตะทะพะฟะฐัะตะฝ
   ```

2. **Proof-of-Stake (ะฐะปััะตัะฝะฐัะธะฒะฐ PoW):**
   - ะะผะตััะพ computing power โ ะฒะปะฐะดะตะฝะธะต ะผะพะฝะตัะฐะผะธ
   - ะัะฐะบะฐ ะฝะฐ 51% = ะฝัะถะฝะพ ะบัะฟะธัั 51% ะผะพะฝะตั (ะดะพัะพะณะพ!)

3. **Diversified Mining:**
   - ะะฝะพะถะตััะฒะพ ะผะฐะนะฝะธะฝะณ-ะฟัะปะพะฒ
   - ะะธ ะพะดะธะฝ ะฝะต ะธะผะตะตั >50%

**ะ Episode 14:**
```c
// Moonlight blockchain (ัะฐััะฝัะน)
// ะะธัะบ: ะพะดะธะฝ ะผะฐะนะฝะตั ะบะพะฝััะพะปะธััะตั ะฒัะต ะฝะพะดั
// ะะตัะตะฝะธะต: distributed nodes, consensus algorithm
```

**ะะตะฐะปัะฝัะต ัะปััะฐะธ:**
- Ethereum Classic (2020): 51% attack, ะพัะบะฐั ััะฐะฝะทะฐะบัะธะน ะฝะฐ $5.6M
- Bitcoin Gold (2018): 51% attack, double-spend $18M

</details>

<details>
<summary><strong>10. Blockchain ledger 15,000 ะฑะปะพะบะพะฒ ะทะฐะฝะธะผะฐะตั ัะบะพะปัะบะพ ะผะตััะฐ ะฝะฐ ะดะธัะบะต? (Estimate ะดะปั ะฟัะพััะพะน ััััะบัััั)</strong></summary>

**ะัะฒะตั:**

**ะะฐัััั ัะฐะทะผะตัะฐ:**

```c
typedef struct Block {
    int index;              // 4 ะฑะฐะนัะฐ
    time_t timestamp;       // 8 ะฑะฐะนั (ะฝะฐ 64-bit ัะธััะตะผะต)
    char data[256];         // 256 ะฑะฐะนั
    unsigned long prev_hash;// 8 ะฑะฐะนั
    unsigned long hash;     // 8 ะฑะฐะนั
    int nonce;              // 4 ะฑะฐะนัะฐ
} Block;
```

**ะะฐะทะผะตั ะพะดะฝะพะณะพ ะฑะปะพะบะฐ:**
```
4 + 8 + 256 + 8 + 8 + 4 = 288 ะฑะฐะนั
```

**15,000 ะฑะปะพะบะพะฒ:**
```
288 * 15,000 = 4,320,000 ะฑะฐะนั
             = 4.32 MB
             = ~4.1 MiB
```

**ะก ััััะพะผ ะฒััะฐะฒะฝะธะฒะฐะฝะธั (struct padding):**
```c
sizeof(Block) โ 296 ะฑะฐะนั (padding ะดะพ 8-byte boundary)
296 * 15,000 = 4.44 MB
```

**ะกัะฐะฒะฝะตะฝะธะต ั Bitcoin:**

Bitcoin ะฑะปะพะบ ัะพะดะตัะถะธั:
- ~2000 ััะฐะฝะทะฐะบัะธะน
- ะกัะตะดะฝะธะน ัะฐะทะผะตั TX: ~250 ะฑะฐะนั
- ะะฐะณะพะปะพะฒะพะบ ะฑะปะพะบะฐ: 80 ะฑะฐะนั

```
Bitcoin ะฑะปะพะบ โ 2000 * 250 + 80 = 500 KB
Bitcoin blockchain (800,000 ะฑะปะพะบะพะฒ): ~400 GB!
```

**ะะฟัะธะผะธะทะฐัะธั:**

1. **ะกะถะฐัะธะต ะดะฐะฝะฝัั:**
   ```c
   // ะะผะตััะพ char data[256] ะธัะฟะพะปัะทะพะฒะฐัั ะฟะตัะตะผะตะฝะฝัะน ัะฐะทะผะตั
   typedef struct Block {
       int data_len;
       char *data;  // malloc ัะพะปัะบะพ ะฝัะถะฝัะน ัะฐะทะผะตั
   } Block;
   
   // ะญะบะพะฝะพะผะธั: ~50% ะตัะปะธ ััะตะดะฝะธะน data < 128 ะฑะฐะนั
   ```

2. **Hash compression:**
   ```c
   // ะะผะตััะพ unsigned long (8 ะฑะฐะนั) ะธัะฟะพะปัะทะพะฒะฐัั SHA-256 (32 ะฑะฐะนัะฐ)
   // ะะ! ะะพะปััะต ัะฐะทะผะตั, ะปัััะต ะฑะตะทะพะฟะฐัะฝะพััั
   ```

3. **Pruning (ะพะฑัะตะทะบะฐ):**
   ```c
   // ะกัะฐััะต ะฑะปะพะบะธ: ัะดะฐะปะธัั data, ะพััะฐะฒะธัั ัะพะปัะบะพ ัะตัะธ
   // ะะปั ะฒะตัะธัะธะบะฐัะธะธ chain integrity ัะฒะฐัะธั ัะตัะตะน!
   ```

**ะ Episode 14:**
```bash
ls -lh moonlight_ledger.dat
-rw-r--r-- 1 user user 4.4M Dec 16 05:27 moonlight_ledger.dat
```

ะะพะผะฟะฐะบัะฝะพ! ะะตะณะบะพ ััะฐะฝะธัั ะธ ะฟะตัะตะดะฐะฒะฐัั.

</details>

---

### ะะฝะฐะปะธะท ะบะพะดะฐ (3 ะฒะพะฟัะพัะฐ):

<details>
<summary><strong>11. ะคัะฝะบัะธั calculate_block_hash() ะธัะฟะพะปัะทัะตั snprintf ะดะปั ะบะพะฝะบะฐัะตะฝะฐัะธะธ ะฟะพะปะตะน. ะะพัะตะผั ะฟะพััะดะพะบ ะฟะพะปะตะน ะฒะฐะถะตะฝ?</strong></summary>

**ะัะฒะตั:**

```c
unsigned long calculate_block_hash(Block *block) {
    char buffer[512];
    snprintf(buffer, sizeof(buffer), "%d%ld%s%lu%d",
             block->index,        // 1
             block->timestamp,    // 2
             block->data,         // 3
             block->prev_hash,    // 4
             block->nonce);       // 5
    
    return hash_djb2((unsigned char*)buffer);
}
```

**ะะพัะตะผั ะฟะพััะดะพะบ ะบัะธัะธัะตะฝ:**

1. **ะะตัะตัะผะธะฝะธะทะผ:**
   ```c
   // ะะพััะดะพะบ: index, timestamp, data
   "0" "1577836800" "INIT" = "01577836800INIT"
   
   // ะะพััะดะพะบ: data, index, timestamp
   "INIT" "0" "1577836800" = "INIT01577836800"
   
   // ะะะะะซะ ัััะพะบะธ โ ะะะะะซะ ัะตัะธ!
   ```

2. **Consensus (ัะพะณะปะฐัะพะฒะฐะฝะฝะพััั):**
   ```c
   // ะัะต ัะทะปั ัะตัะธ ะดะพะปะถะฝั ะฒััะธัะปััั ัะตั ะะะะะะะะะ
   // ะะฝะฐัะต:
   Node A: hash = hash(index+data+timestamp)
   Node B: hash = hash(data+index+timestamp)
   
   // Node A ะธ B ะฟะพะปััะฐั ะะะะะซะ ัะตัะธ ะดะปั ะะะะะะ ะฑะปะพะบะฐ!
   // โ ะกะตัั ัะฐะทะดะตะปะธััั (fork)
   ```

3. **Validation:**
   ```c
   // ะัะธ ะฟัะพะฒะตัะบะต ะธัะฟะพะปัะทัะตะผ ะขะะข ะะ ะฟะพััะดะพะบ
   unsigned long calculated = calculate_block_hash(&block);
   
   if (block.hash != calculated) {
       // ะัะปะธ ะฟะพััะดะพะบ ัะฐะทะฝัะน โ ะฒัะตะณะดะฐ fail!
   }
   ```

4. **Malleability (ะฟะพะดะฐัะปะธะฒะพััั):**
   ```c
   // ะัะปะธ ะฟะพััะดะพะบ ะฝะต ัะธะบัะธัะพะฒะฐะฝ, ะทะปะพัะผััะปะตะฝะฝะธะบ ะผะพะถะตั:
   
   // ะะฐัะธะฐะฝั 1: "123" + "ABC" = "123ABC" โ hash1
   // ะะฐัะธะฐะฝั 2: "ABC" + "123" = "ABC123" โ hash2
   
   // ะะฐะทะฝัะต ัะตัะธ ะดะปั ะพะดะฝะธั ะดะฐะฝะฝัั โ ะฐัะฐะบะฐ!
   ```

**ะัััะฐั ะฟัะฐะบัะธะบะฐ:**

```c
// ะัะฟะพะปัะทะพะฒะฐัั ัะฐะทะดะตะปะธัะตะปะธ
snprintf(buffer, sizeof(buffer), "%d|%ld|%s|%lu|%d",
         block->index, block->timestamp, block->data,
         block->prev_hash, block->nonce);

// "0|1577836800|INIT|0|0"
// ะฏัะฝะพ ะฒะธะดะฝั ะณัะฐะฝะธัั ะฟะพะปะตะน
```

**Bitcoin ะธัะฟะพะปัะทัะตั:**
```
Version (4) + Prev Hash (32) + Merkle Root (32) + 
Timestamp (4) + Difficulty (4) + Nonce (4) = 80 ะฑะฐะนั
```
ะกััะพะณะธะน ะฟะพััะดะพะบ, ัะธะบัะธัะพะฒะฐะฝะฝัะน ัะฐะทะผะตั!

</details>

<details>
<summary><strong>12. ะะพัะตะผั mining loop ะผะพะถะตั ัะฐะฑะพัะฐัั ะฑะตัะบะพะฝะตัะฝะพ? ะงัะพ ะตัะปะธ nonce ะฟะตัะตะฟะพะปะฝะธััั (overflow)?</strong></summary>

**ะัะฒะตั:**

```c
void mine_block(Block *block, int difficulty) {
    block->nonce = 0;
    
    while (1) {  // โ ะะตัะบะพะฝะตัะฝัะน ัะธะบะป!
        block->hash = calculate_block_hash(block);
        
        if (check_difficulty(block->hash, difficulty)) {
            break;  // ะะฐัะปะธ!
        }
        
        block->nonce++;  // โ ะงัะพ ะตัะปะธ ะฟะตัะตะฟะพะปะฝะธััั?
    }
}
```

**ะัะพะฑะปะตะผะฐ overflow:**

```c
int nonce; // 32-bit signed int

nonce = 2,147,483,647;  // INT_MAX
nonce++;                // ะะตัะตะฟะพะปะฝะตะฝะธะต!
nonce = -2,147,483,648; // ะกัะฐะปะพ ะพััะธัะฐัะตะปัะฝัะผ!
```

**ะะตัะตะฝะธั:**

1. **Unsigned int:**
   ```c
   unsigned int nonce; // 0 .. 4,294,967,295
   
   // ะะดะฒะพะต ะฑะพะปััะต ะดะธะฐะฟะฐะทะพะฝ!
   ```

2. **64-bit nonce:**
   ```c
   unsigned long long nonce; // 0 .. 18,446,744,073,709,551,615
   
   // ะัะฐะบัะธัะตัะบะธ ะฝะตะฒะพะทะผะพะถะฝะพ ะฟะตัะตะฑัะฐัั ะฒัะต!
   ```

3. **ะะทะผะตะฝะธัั ะดััะณะธะต ะฟะพะปั:**
   ```c
   for (unsigned int extraNonce = 0; extraNonce < UINT_MAX; extraNonce++) {
       for (unsigned int nonce = 0; nonce < UINT_MAX; nonce++) {
           // ะะพะฑะฐะฒะปัะตะผ extraNonce ะฒ data
           sprintf(block->data + strlen(block->data), "_EN%u", extraNonce);
           
           block->nonce = nonce;
           block->hash = calculate_block_hash(block);
           
           if (check_difficulty(block->hash, difficulty)) return;
       }
   }
   
   // ะัะตะณะพ ะบะพะผะฑะธะฝะฐัะธะน: UINT_MAX ร UINT_MAX = 2^64
   ```

4. **Timestamp increment:**
   ```c
   // Bitcoin: ะตัะปะธ nonce ะธััะตัะฟะฐะฝ, ัะฒะตะปะธัะธัั timestamp
   while (1) {
       for (block->nonce = 0; block->nonce < UINT_MAX; block->nonce++) {
           // ... mining ...
       }
       
       // Nonce ะธััะตัะฟะฐะฝ! ะฃะฒะตะปะธัะธะฒะฐะตะผ ะฒัะตะผั
       block->timestamp++;
       
       // ะะพะฒัะน timestamp โ ะฝะพะฒัะน hash โ ะฝะฐัะธะฝะฐะตะผ ัะฝะฐัะฐะปะฐ
   }
   ```

**Bitcoin ะฝะฐ ะฟัะฐะบัะธะบะต:**

```
Difficulty = 20 ะฒะตะดััะธั ะฝัะปะตะน
ะะพะฟััะพะบ = 2^80

32-bit nonce = 2^32 = 4 ะผะธะปะปะธะฐัะดะฐ ะฟะพะฟััะพะบ
2^80 / 2^32 = 2^48 ะฟะตัะตะฟะพะปะฝะตะฝะธะน!

ะะตัะตะฝะธะต: extraNonce ะฒ coinbase transaction
```

**ะ Episode 14 (difficulty=2):**
```c
// ะะพะฟััะพะบ ะฒ ััะตะดะฝะตะผ: 256
// int nonce ะฒะฟะพะปะฝะต ะดะพััะฐัะพัะฝะพ (ะดะพ 2 ะผะธะปะปะธะฐัะดะพะฒ)
```

**ะะตะทะพะฟะฐัะฝะฐั ัะตะฐะปะธะทะฐัะธั:**
```c
void mine_block(Block *block, int difficulty) {
    block->nonce = 0;
    unsigned long attempts = 0;
    unsigned long max_attempts = ULONG_MAX;
    
    while (attempts < max_attempts) {
        block->hash = calculate_block_hash(block);
        
        if (check_difficulty(block->hash, difficulty)) {
            printf("Mined in %lu attempts\n", attempts);
            return;
        }
        
        block->nonce++;
        attempts++;
    }
    
    // ะัะปะธ ะดะพัะปะธ ััะดะฐ โ ะฝะต ะฝะฐัะปะธ nonce!
    printf("Mining failed! Consider changing timestamp or data.\n");
}
```

</details>

<details>
<summary><strong>13. Cascade validation: ะตัะปะธ Block #5000 ะฝะตะฒะฐะปะธะดะตะฝ, ะฝัะถะฝะพ ะปะธ ะฟัะพะฒะตัััั Block #10000? ะะพัะตะผั ะผะพะถะฝะพ ะพััะฐะฝะพะฒะธัั ะฟัะพะฒะตัะบั ัะฐะฝััะต?</strong></summary>

**ะัะฒะตั:**

**ะะฐะธะฒะฝะฐั ะฒะตัะธัะธะบะฐัะธั:**

```c
bool verify_blockchain_naive(Block *chain, int length) {
    bool all_valid = true;
    
    // ะัะพะฒะตััะตะผ ะะกะ ะฑะปะพะบะธ
    for (int i = 0; i < length; i++) {
        if (!verify_single_block(&chain[i], &chain[i-1])) {
            printf("Block %d invalid\n", i);
            all_valid = false;  // ะะ ะฟัะตััะฒะฐะตะผ!
        }
    }
    
    return all_valid;
}

// ะะปั 15,000 ะฑะปะพะบะพะฒ: 15,000 ะฟัะพะฒะตัะพะบ
```

**ะะฟัะธะผะธะทะธัะพะฒะฐะฝะฝะฐั ะฒะตัะธัะธะบะฐัะธั:**

```c
bool verify_blockchain_optimized(Block *chain, int length) {
    for (int i = 0; i < length; i++) {
        // ะัะพะฒะตัะบะฐ 1: hash integrity
        unsigned long calculated = calculate_block_hash(&chain[i]);
        if (chain[i].hash != calculated) {
            printf("Block %d: hash mismatch\n", i);
            printf("All blocks %d..%d are UNTRUSTED\n", i, length-1);
            return false;  // โ ะะะะะซะะะะ ะกะะะะฃ!
        }
        
        // ะัะพะฒะตัะบะฐ 2: chain linkage
        if (i > 0 && chain[i].prev_hash != chain[i-1].hash) {
            printf("Block %d: prev_hash mismatch\n", i);
            printf("Chain broken at block %d\n", i);
            return false;  // โ ะะะะะซะะะะ!
        }
    }
    
    return true;
}
```

**ะะพัะตะผั ะผะพะถะฝะพ ะพััะฐะฝะพะฒะธัััั:**

1. **ะะฐัะบะฐะดะฝะฐั ะฝะตะฒะฐะปะธะดะฝะพััั:**
   ```
   Block 5000: ะฝะตะฒะฐะปะธะดะตะฝ
           โ
   Block 5001: prev_hash ะฝะต ัะพะฒะฟะฐะดัั
           โ
   Block 5002: prev_hash ะฝะต ัะพะฒะฟะฐะดัั
           โ
   ... ะะกะ ะฟะพัะปะตะดัััะธะต ะฝะตะฒะฐะปะธะดะฝั
   ```

2. **ะะตั ัะผััะปะฐ ะฟัะพะฒะตัััั:**
   ```c
   // ะัะปะธ #5000 ะฝะตะฒะฐะปะธะดะตะฝ, #10000 ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฝะตะฒะฐะปะธะดะตะฝ
   // ะะฐัะตะผ ััะฐัะธัั CPU?
   
   // ะะปั 15,000 ะฑะปะพะบะพะฒ:
   // ะะฐะธะฒะฝะพ: 15,000 ะฟัะพะฒะตัะพะบ
   // ะะฟัะธะผะธะทะธัะพะฒะฐะฝะฝะพ: 5,000 ะฟัะพะฒะตัะพะบ (ััะพะฟ ะฝะฐ #5000)
   ```

3. **Fast fail:**
   ```c
   // ะะฑะฝะฐััะถะธะปะธ ะฟะตัะฒัั ะฟัะพะฑะปะตะผั โ ัะพะพะฑัะฐะตะผ ััะฐะทั
   // ะะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ะฝะฐัะฐัั ัะฐััะปะตะดะพะฒะฐะฝะธะต
   
   printf("Corruption detected at block %d\n", first_invalid);
   printf("Need to restore from backup or resync\n");
   ```

**ะะ! ะะฝะพะณะดะฐ ะฝัะถะฝะฐ ะฟะพะปะฝะฐั ะฟัะพะฒะตัะบะฐ:**

```c
int* find_all_corrupted_blocks(Block *chain, int length) {
    int *corrupted = malloc(length * sizeof(int));
    int count = 0;
    
    // ะัะพะฒะตััะตะผ ะะกะ, ะฝะต ะพััะฐะฝะฐะฒะปะธะฒะฐะตะผัั
    for (int i = 0; i < length; i++) {
        unsigned long calculated = calculate_block_hash(&chain[i]);
        
        if (chain[i].hash != calculated) {
            corrupted[count++] = i;
            // ะะ break! ะัะพะดะพะปะถะฐะตะผ
        }
    }
    
    corrupted[count] = -1;  // ะขะตัะผะธะฝะฐัะพั
    return corrupted;
}

// ะะตะทัะปััะฐั: [5000, 7250, 12000, -1]
// ะะฝะพะถะตััะฒะตะฝะฝัะต ัะพัะบะธ corruption!
```

**ะกััะฐัะตะณะธั ะฟัะพะฒะตัะบะธ:**

```c
// ะััััะฐั ะฟัะพะฒะตัะบะฐ (ะดะปั ะตะถะตะดะฝะตะฒะฝะพะณะพ use)
if (!verify_blockchain_optimized(chain, length)) {
    // ะฆะตะฟั ัะปะพะผะฐะฝะฐ!
    
    // ะะปัะฑะพะบะฐั ะฟัะพะฒะตัะบะฐ (ะดะปั forensics)
    int *corrupted = find_all_corrupted_blocks(chain, length);
    
    printf("Corrupted blocks: ");
    for (int i = 0; corrupted[i] != -1; i++) {
        printf("%d ", corrupted[i]);
    }
    printf("\n");
    
    // ะะฝะฐะปะธะทะธััะตะผ ะฟะฐััะตัะฝ
    if (corrupted[1] - corrupted[0] == 1) {
        printf("Sequential corruption โ disk failure?\n");
    } else {
        printf("Scattered corruption โ deliberate attack?\n");
    }
}
```

**ะ Episode 14:**
```c
// 09:18 ะฒะตัะธัะธะบะฐัะธั ะทะฐะฒะตััะตะฝะฐ
// ะะฐะนะดะตะฝะพ 3 ะฝะตะฒะฐะปะธะดะฝัั ะฑะปะพะบะฐ: #7250, #7251, #7280
// ะััะฐะฝะพะฒะธะปะธัั ะฝะฐ #7250 (ะฟะตัะฒัะน)
// ะะปัะฑะพะบะฐั ะฟัะพะฒะตัะบะฐ ะฟะพะบะฐะทะฐะปะฐ: ะฒัะตะณะพ 3 ัะพัะบะธ ะฐัะฐะบะธ
```

</details>

---

### ะกัะถะตั ะธ ะบะพะฝัะตะบัั (2 ะฒะพะฟัะพัะฐ):

<details>
<summary><strong>14. Block #7250 ัะพะดะตัะถะธั ะบะพะพัะดะธะฝะฐัั 55.7558ยฐN, 37.6173ยฐE. ะญัะพ ัะต ะถะต ะบะพะพัะดะธะฝะฐัั ะธะท Season 2 ะธ Season 3! ะงัะพ ะฟัะพะธััะพะดะธั?</strong></summary>

**ะัะฒะตั:**

**ะกะบะฒะพะทะฝะฐั ััะถะตัะฝะฐั ะปะธะฝะธั:**

**Season 2 Episode 08 (ะคะะะะ):**
```
18:47  ะะฐััะธััะพะฒะบะฐ coordinates.dat
       55.7558ยฐN, 37.6173ยฐE
       
       ะญัะพ ะะะะกะะะฏ ะะะะฉะะะฌ, ะะพัะบะฒะฐ!
       ะะตััะพ ะฒัััะตัะธ ั Viktor
```

**Season 3 Episode 09:**
```
03:15  GPS-ัะฒะธัั
       IP 203.0.113.42 ะดะตะบะพะดะธััะตััั ะฒ ะบะพะพัะดะธะฝะฐัั
       55.7558ยฐN 37.6173ยฐE
       
       SMS ะพั UNKNOWN: "ะขั ัะปะธัะบะพะผ ะฑะปะธะทะบะพ"
```

**Season 3 Episode 12 (ะคะะะะ):**
```
08:00  ะัััะตัะฐ ั Viktor ะฝะฐ ะัะฐัะฝะพะน ะฟะปะพัะฐะดะธ
       ะฃ ะกะฟะฐััะบะพะน ะฑะฐัะฝะธ
       
       Viktor ะฟะตัะตะดะฐัั USB: "Season 4: Crypto & Algorithms"
```

**Season 4 Episode 14 (ัะตะบััะธะน):**
```
09:18  Block #7250 ะฒ blockchain
       "Location: 55.7558ยฐN, 37.6173ยฐE"
       
       ะญะขะ ะกะะะะ ะะะะกะะะฏ ะะะะฉะะะฌ!
```

**ะงัะพ ััะพ ะทะฝะฐัะธั:**

1. **ะฆะตะฝัั ะพะฟะตัะฐัะธะธ MOONLIGHT:**
   - ะะพะพัะดะธะฝะฐัั ะฟะพัะฒะปััััั 4 ัะฐะทะฐ ะฒ ัะฐะทะฝัั ัะตะทะพะฝะฐั
   - ะัะฐัะฝะฐั ะฟะปะพัะฐะดั = ัะพัะบะฐ ัะฑะพัะฐ ะฐะณะตะฝัะพะฒ
   - ะะพะทะผะพะถะฝะพ, ัะฐะผ ัะธะทะธัะตัะบะธะน ัะตัะฒะตั ะธะปะธ drop point

2. **Blockchain = ะปะพะณะฑัะบ ะพะฟะตัะฐัะธะธ:**
   - Block #7250 ะทะฐะฟะธัะฐะป ะบะพะพัะดะธะฝะฐัั ะฒัััะตัะธ
   - ะคะธะฝะฐะฝัะพะฒัะต ััะฐะฝะทะฐะบัะธะธ ัะฒัะทะฐะฝั ั ััะธะผ ะผะตััะพะผ
   - Blockchain ััะฐะฝะธั ะฒัั ะธััะพัะธั MOONLIGHT

3. **ะะพะดะดะตะปะบะฐ Block #7250:**
   - ะัะพ-ัะพ ะฟััะฐะปัั ัะบัััั ััะธ ะบะพะพัะดะธะฝะฐัั
   - ะะปะธ ะธะทะผะตะฝะธัั ะผะตััะพ ะฒัััะตัะธ
   - ะะณะตะฝัั Z. ะฟััะฐัััั ัะพัะฒะฐัั ะพะฟะตัะฐัะธั

4. **ะะพะดะณะพัะพะฒะบะฐ ะบ Season 5:**
   - ะะพะพัะดะธะฝะฐัั ะฒะตะดัั ะบ ัะธะฝะฐะฝัะพะฒะพะผั ัะฐะฑั
   - Season 5: Financial Markets
   - ะัะฐัะฝะฐั ะฟะปะพัะฐะดั โ ะบะฐะบะพะน-ัะพ ะพัะธั/ัะตัะฒะตั ัะฐะผ?

**ะะตะพะณัะฐัะธั:**
```
55.7558ยฐN, 37.6173ยฐE = ะัะฐัะฝะฐั ะฟะปะพัะฐะดั, ะะพัะบะฒะฐ
- ะัะดะพะผ: ะัะตะผะปั, ะกะฟะฐััะบะฐั ะฑะฐัะฝั
- ะะพะพัะดะธะฝะฐัั ั ัะพัะฝะพัััั ~10ะผ
- ะะพะทะผะพะถะฝะพ: ะบะพะฝะบัะตัะฝะพะต ะทะดะฐะฝะธะต ััะดะพะผ
```

**Easter Egg:**
```bash
# ะัะพะฒะตัััะต ะฝะฐ Google Maps:
# 55.7558, 37.6173
# โ ะะพัะบะพะฒัะบะธะน ะัะตะผะปั, ะกะฟะฐััะบะฐั ะฑะฐัะฝั!
```

</details>

<details>
<summary><strong>15. V. ัะบะฐะทะฐะป "ะฃ ัะตะฑั 4 ัะฐัะฐ ะดะพ ัะฐััะฒะตัะฐ" (05:30 โ 09:30). ะะพ ะฒะตัะธัะธะบะฐัะธั ะทะฐะฒะตััะตะฝะฐ ะฒ 09:18. ะฃัะฟะตะปะธ ะฝะฐ 12 ะผะธะฝัั! ะะพัะตะผั deadline ะฑัะป ะบัะธัะธัะตะฝ?</strong></summary>

**ะัะฒะตั:**

**ะัะตะผะตะฝะฝะฐั ะปะธะฝะธั:**

```
05:27  ะะพะปััะตะฝ blockchain ledger (15,000 ะฑะปะพะบะพะฒ)
05:30  ะะฐัะฐะปะพ ะฒะตัะธัะธะบะฐัะธะธ
       Deadline: 09:30 (ัะฐััะฒะตั ะฒ ะดะตะบะฐะฑัะต ะฒ ะะพัะบะฒะต)
       
06:45  ะะฑะฝะฐััะถะตะฝ Block #7250 ะฝะตะฒะฐะปะธะดะตะฝ
07:12  IP 185.220.101.47 โ ัะฒัะทั ั Season 2!
08:30  Cascade validation ะทะฐะฒะตัััะฝ
09:18  ะะพะพัะดะธะฝะฐัั ะธะทะฒะปะตัะตะฝั โ 55.7558ยฐN, 37.6173ยฐE
       
09:30  DEADLINE! โฐ
09:18  โ ะฃัะฟะตะปะธ ะฝะฐ 12 ะผะธะฝัั!
```

**ะะพัะตะผั deadline ะบัะธัะธัะตะฝ:**

1. **ะคะธะทะธัะตัะบะฐั ะฒัััะตัะฐ ะฝะฐ ัะฐััะฒะตัะต:**
   ```
   V. ะฒ ัะพะพะฑัะตะฝะธะธ: "ะะพะพัะดะธะฝะฐัั ะดะพะปะถะฝั ะฑััั ัะธัััะผะธ"
   
   โ ะัััะตัะฐ ะทะฐะฟะปะฐะฝะธัะพะฒะฐะฝะฐ ะฝะฐ 09:30 (ัะฐััะฒะตั)
   โ ะัะปะธ ะฝะต ััะฟะตะตัั ะฒะตัะธัะธัะธัะพะฒะฐัั โ ะฝะตะฟัะฐะฒะธะปัะฝะพะต ะผะตััะพ
   โ ะะณะตะฝัั Z. ะผะพะณัั ะฟะพะดััะตัะตัั
   ```

2. **Blockchain ัะธะฝััะพะฝะธะทะฐัะธั:**
   ```c
   // ะะพัะปะต 09:30 ัะตัั ะดะพะฑะฐะฒะธั ะฝะพะฒัะต ะฑะปะพะบะธ
   // ะะพะพัะดะธะฝะฐัั ะผะพะณัั ะฑััั ะฟะตัะตะทะฐะฟะธัะฐะฝั
   // ะะบะฝะพ ะฒะพะทะผะพะถะฝะพััะธ: 4 ัะฐัะฐ
   ```

3. **ะกะปะตะดั ะฐัะฐะบะธ ะธััะตะทะฝัั:**
   ```
   IP 185.220.101.47 ะฒะธะดะตะฝ ะฒ ะปะพะณะฐั ะดะพ 09:30
   ะะพัะปะต โ ะปะพะณะธ ัะพัะธัััััั, ัะปะตะดั ััะธัะฐัััั
   Forensics ะดะพะปะถะตะฝ ะฑััั ะฑัััััะผ!
   ```

4. **ะกัะถะตัะฝะพะต ะฝะฐะฟััะถะตะฝะธะต:**
   ```
   Deadline ัะพะทะดะฐัั ะดัะฐะผะฐัะธะทะผ:
   - 3 ัะฐัะฐ: "ะฃัะฟะตะตะผ?"
   - 1 ัะฐั: "ะััะฐะปะพัั ะผะฐะปะพ!"
   - 12 ะผะธะฝัั ะดะพ deadline: "ะะฐ ะฒะพะปะพัะพะบ!"
   ```

**ะกัะฐะฒะฝะตะฝะธะต ั ะดััะณะธะผะธ ัะตะทะพะฝะฐะผะธ:**

```
Season 1 Ep02: 48 ัะฐัะพะฒ (SMS ัะณัะพะทะฐ)
Season 2 Ep05: 6 ัะฐัะพะฒ (ัะฒะฐะบัะฐัะธั)
Season 2 Ep07: 3 ัะฐัะฐ (ัะฐะนะป ัะฐัััั)
Season 3 Ep10: 5 ัะฐัะพะฒ (DDoS deadline)
Season 4 Ep14: 4 ัะฐัะฐ (ัะฐััะฒะตั)
```

Deadlines โ ัะธัะผะตะฝะฝัะน ััะธะปั MOONLIGHT! โฑ๏ธ

**ะงัะพ ะตัะปะธ ะฑั ะะ ััะฟะตะปะธ:**

```c
if (current_time > deadline) {
    printf("โฐ TOO LATE!\n");
    printf("Coordinates corrupted. Meeting compromised.\n");
    printf("Agents Z. intercepted the location.\n");
    printf("\n");
    printf("๐จ MISSION FAILED ๐จ\n");
    printf("Return to Episode 14 beginning.\n");
}
```

**ะฃัะฟะตะปะธ ะฝะฐ 12 ะผะธะฝัั:**
```
09:18  ะะพะพัะดะธะฝะฐัั ะธะทะฒะปะตัะตะฝั
09:20  ะัะฟัะฐะฒะปะตะฝะพ ัะพะพะฑัะตะฝะธะต V.
09:25  ะะพะดะณะพัะพะฒะบะฐ ะบ ะฒััะพะดั
09:30  ะะฐััะฒะตั
09:45  ะัะธะฑััะธะต ะฝะฐ ะัะฐัะฝัั ะฟะปะพัะฐะดั
       
โ MISSION SUCCESS
```

**ะะพัะธะฒะฐัะธั ัััะดะตะฝัะฐ:**
- Deadline โ ะฝัะถะฝะพ ัััะตะบัะธะฒะฝะพ ะฟะธัะฐัั ะบะพะด
- ะะตั ะฒัะตะผะตะฝะธ ะฝะฐ ะฟะตัะตะฑะพั ะฒัะตั 15,000 ะฑะปะพะบะพะฒ ะฝะฐะธะฒะฝะพ
- ะะฟัะธะผะธะทะฐัะธั ะฒะฐะถะฝะฐ! (cascade validation)
- Real-world skill: ัะฐะฑะพัะฐ ะฟะพะด ะดะฐะฒะปะตะฝะธะตะผ ะฒัะตะผะตะฝะธ

</details>

---

## ๐ DEBRIEFING

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะะะะฆะะฏ: ะะตะทะพะฟะฐัะฝัะน ะดะพะผ MOONLIGHT, ะะพัะบะฒะฐ               โ
โ  ะะะะะฏ:   09:18, ัะตัะฒะตัะณ, 16 ะดะตะบะฐะฑัั                    โ
โ  ะกะขะะขะฃะก:  โ BLOCKCHAIN VERIFIED                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**09:18. ะะตัะธัะธะบะฐัะธั ะทะฐะฒะตััะตะฝะฐ.**

ะั ะทะฐะฟััะบะฐะตัะต ัะธะฝะฐะปัะฝัั ะฟัะพะฒะตัะบั:

```bash
$ ./verifier data/moonlight_ledger.dat

โโโโ BLOCKCHAIN VERIFICATION โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Loading blockchain: moonlight_ledger.dat               โ
โ  Blocks loaded: 15,000                                  โ
โ  Verifying integrity...                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                         โ
โ  [โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ] 100%                โ
โ                                                         โ
โ  Block 0-7,249:      โ VALID                           โ
โ  Block 7,250:        โ CORRUPTED                       โ
โ  Block 7,251-7,289:  โ INVALID (cascade)               โ
โ  Block 7,290-14,999: โ VALID (restored)                โ
โ                                                         โ
โ  CORRUPTION DETECTED:                                   โ
โ    Block #7,250                                         โ
โ    Original data: "Transfer $15.7M to 0x4A7F..."        โ
โ    Tampered data: "Transfer $25.0M to 0x9B2C..."        โ
โ    Modified: Dec 10, 2020 14:37:22                      โ
โ                                                         โ
โ  Evidence: Someone tried to increase the amount         โ
โ  by $9.3M and change the recipient!                     โ
โ                                                         โ
โ  VALID BLOCKS: 14,960 / 15,000 (99.73%)                 โ
โ  COORDINATES EXTRACTED:                                 โ
โ    Block #8,142: 55.7558ยฐN, 37.6173ยฐE                   โ
โ    Location: Red Square, Moscow                         โ
โ    Timestamp: Dec 18, 2020 18:00:00                     โ
โ                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะะะะะะะะขะซ ะะะะะะะซ!** 55.7558ยฐN, 37.6173ยฐE โ ะัะฐัะฝะฐั ะฟะปะพัะฐะดั, 18 ะดะตะบะฐะฑัั, 18:00.

ะงะตัะตะท 30 ัะตะบัะฝะด ะฟัะธัะพะดะธั ัะพะพะฑัะตะฝะธะต ะพั V.:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  FROM: V. (SECURE CHANNEL)                  โ
โ  TIME: 09:19:07 UTC                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                             โ
โ  ะะขะะะงะะะฏ ะะะะะขะ.                           โ
โ                                             โ
โ  ะขั ะฝะฐัะตะป ะฟะพะดะดะตะปะบั ะฒ Block #7,250.          โ
โ  ะญัะพ ะฑัะปะฐ ะฟัะพะฒะตัะบะฐ ะฝะฐ ะฒะฝะธะผะฐัะตะปัะฝะพััั.       โ
โ                                             โ
โ  Blockchain - ััะพ TRUST ัะตัะตะท MATH,         โ
โ  ะฐ ะฝะต ัะตัะตะท ะปัะดะตะน.                          โ
โ                                             โ
โ  ะะพะพัะดะธะฝะฐัั ัะธัััะต: Red Square, Dec 18.     โ
โ  ะะผะตะฝะฝะพ ัะฐะผ ะฑัะดะตั ัะธะฝะฐะปัะฝะฐั ะฒัััะตัะฐ.        โ
โ                                             โ
โ  ะะพ ะฟะตัะตะด ััะธะผ ัะตะฑะต ะฝัะถะฝะพ ะฝะฐััะธัััั         โ
โ  ัะฐะฑะพัะฐัั ั ะะะะฌะจะะะ ะดะฐะฝะฝัะผะธ.               โ
โ                                             โ
โ  ะฃ ะฝะฐั 15,000 ะฑะปะพะบะพะฒ. ะะฐะถะดัะน ัะพะดะตัะถะธั       โ
โ  ัะพัะฝะธ ััะฐะฝะทะฐะบัะธะน. ะะธะปะปะธะพะฝั ะทะฐะฟะธัะตะน.        โ
โ                                             โ
โ  ะงัะพะฑั ะฝะฐะนัะธ ะฝัะถะฝัั ะธะฝัะพัะผะฐัะธั,             โ
โ  ะฟะพะฝะฐะดะพะฑัััั ะะะะะะะขะะซ ัะพััะธัะพะฒะบะธ ะธ ะฟะพะธัะบะฐ. โ
โ                                             โ
โ  Episode 15 ะถะดะตั ัะตะฑั.                      โ
โ                                             โ
โ  โ V.                                       โ
โ                                             โ
โ  P.S. ะะทััะธ djb2 ะฟะพะดัะพะฑะฝะตะต. ะญัะฐ ััะฝะบัะธั     โ
โ  ะฟัะพััะฐ, ะฝะพ ัะปะตะณะฐะฝัะฝะฐ. Daniel J. Bernstein  โ
โ  โ ะณะตะฝะธะน ะบัะธะฟัะพะณัะฐัะธะธ.                      โ
โ                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะงะขะ ะะซ ะฃะะะะะ:**
- ๐ **Blockchain** ะทะฐัะธัะฐะตั ะดะฐะฝะฝัะต ัะตัะตะท ัะตะฟะพัะบั ัะตัะตะน
- ๐ก๏ธ **Immutability**: ะธะทะผะตะฝะตะฝะธะต ะพะดะฝะพะณะพ ะฑะปะพะบะฐ ะปะพะผะฐะตั ะฒัั ัะตะฟั
- ๐ **Verification**: ะผะพะถะฝะพ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฝะฐะนัะธ ะฟะพะดะดะตะปะบะธ
- โ๏ธ **Mining (PoW)**: ะฒััะธัะปะธัะตะปัะฝะฐั ัะฐะฑะพัะฐ ะทะฐัะธัะฐะตั ัะตัั
- ๐ **ะะพะพัะดะธะฝะฐัั**: Red Square, Dec 18, 18:00 (ัะธะฝะฐะปัะฝะฐั ะฒัััะตัะฐ!)

**ะะะกะกะะฏ ะะะะะะจะะะ!** โ  
Episode 14 ะฟัะพะนะดะตะฝ. Blockchain ะฒะตัะธัะธัะธัะพะฒะฐะฝ. ะะพะพัะดะธะฝะฐัั ะฟะพะปััะตะฝั.

---

## ๐๏ธ ะะฐะฒัะบ ัะฐะทะฑะปะพะบะธัะพะฒะฐะฝ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ BLOCKCHAIN ENGINEER                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ  ะั ะพัะฒะพะธะปะธ:                                           โ
โ  โข ะัะธะฟัะพะณัะฐัะธัะตัะบะธะต ัะตั-ััะฝะบัะธะธ                       โ
โ  โข Blockchain ััััะบัััั ะธ ะฒะตัะธัะธะบะฐัะธั                  โ
โ  โข Proof-of-Work (mining)                              โ
โ  โข Immutability ะธ ะบะฐัะบะฐะดะฝัั ะฒะฐะปะธะดะฐัะธั                  โ
โ                                                        โ
โ  ะญัะพั ะฝะฐะฒัะบ ะฟัะธะผะตะฝะธะผ ะฒ:                                โ
โ  ๐ฐ ะัะธะฟัะพะฒะฐะปััั (Bitcoin, Ethereum)                   โ
โ  ๐ Smart Contracts                                    โ
โ  ๐ฅ ะะตะดะธัะธะฝัะบะธะต ะทะฐะฟะธัะธ                                 โ
โ  ๐ณ๏ธ ะกะธััะตะผั ะณะพะปะพัะพะฒะฐะฝะธั                                โ
โ  ๐ฆ Supply Chain Management                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฅ Easter Eggs

1. **djb2 hash = 5381** โ Magic number ะธะท comp.lang.c (Daniel J. Bernstein, 1991)
2. **Block #7,250 corrupted** โ ะะผะตะฝะฝะพ 7250 = 50 ร 145 (ะฝะต ัะปััะฐะนะฝะพััั!)
3. **Red Square coordinates** โ 55.7558, 37.6173 (ะัะตะผะปั, ัะพัะฝัะน ัะตะฝัั)
4. **Dec 18, 18:00** โ 18/18 (ะดะฒะพะนะฝะพะต 18 = ัะธะผะฒะพะปะธัะตัะบะพะต ะทะฝะฐัะตะฝะธะต)
5. **SHA-256 (ะดะฒะฐะถะดั!)** โ Bitcoin ะธัะฟะพะปัะทัะตั SHA256(SHA256(data)) ะดะปั ะทะฐัะธัั ะพั length-extension attack
6. **Merkle Root** โ ะะฐะทะฒะฐะฝ ะฒ ัะตััั Ralph Merkle (ะธะทะพะฑัะตัะฐัะตะปั ะฒ 1979)
7. **Genesis Block** โ Bitcoin Genesis: Jan 3, 2009 ("The Times 03/Jan/2009 Chancellor on brink of second bailout for banks")
8. **Difficulty = 10ยฒยฒ** โ ะ 2020 ัะปะพะถะฝะพััั Bitcoin ััะตะฑะพะฒะฐะปะฐ ~150 exahashes/sec (ะฒัั ัะฝะตัะณะธั ะผะฐะปะพะน ัััะฐะฝั!)

---

## โ ะัะพะฒะตัะบะฐ

```bash
cd episode-14-blockchain-hashes
make test
```

**ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:**
```
Testing hash function...              [PASS]
Testing blockchain creation...        [PASS]
Testing verification...               [PASS]
Testing proof-of-work...              [PASS]

Blockchain status: VALID โ
Total blocks: 10
All blocks properly mined โ
```

---

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะผะฐัะตัะธะฐะปั

### Blockchain
- [Bitcoin Whitepaper](https://bitcoin.org/bitcoin.pdf) โ Satoshi Nakamoto
- [Blockchain Demo](https://andersbrownworth.com/blockchain/) โ ะฒะธะทัะฐะปะธะทะฐัะธั
- [Mastering Bitcoin](https://github.com/bitcoinbook/bitcoinbook) โ Andreas Antonopoulos

### Hash Functions
- [SHA-256 Algorithm](https://en.wikipedia.org/wiki/SHA-2)
- [Hash Function Security](https://csrc.nist.gov/projects/hash-functions)

### Financial Applications
- [DeFi](https://ethereum.org/en/defi/) โ Decentralized Finance
- [Smart Contracts](https://ethereum.org/en/developers/docs/smart-contracts/)

---

## ๐ ะะพะฝััะฝัะต ะทะฐะดะฐะฝะธั

### Bonus 1: Merkle Tree โญโญโญโญโญ
ะะตะฐะปะธะทัะนัะต Merkle Tree ะดะปั ัััะตะบัะธะฒะฝะพะน ะฒะตัะธัะธะบะฐัะธะธ ััะฐะฝะทะฐะบัะธะน ะฒ ะพะดะฝะพะผ ะฑะปะพะบะต.

**ะะพะดัะบะฐะทะบะฐ:**
```c
typedef struct MerkleNode {
    unsigned long hash;
    struct MerkleNode *left;
    struct MerkleNode *right;
} MerkleNode;

MerkleNode* build_merkle_tree(unsigned long *hashes, int count);
unsigned long get_merkle_root(MerkleNode *tree);
```

### Bonus 2: SHA-256 Implementation โญโญโญโญโญ
ะะตะฐะปะธะทัะนัะต ะฝะฐััะพััะธะน SHA-256 (ัะปะพะถะฝะพ, ะฝะพ ะพัะตะฝั ะฟะพะปะตะทะฝะพ ะดะปั ะฟะพะฝะธะผะฐะฝะธั!)

### Bonus 3: Dynamic Difficulty Adjustment โญโญโญโญโ
ะะตะฐะปะธะทัะนัะต ะฐะฒัะพะผะฐัะธัะตัะบัั ะบะพััะตะบัะธัะพะฒะบั ัะปะพะถะฝะพััะธ, ะบะฐะบ ะฒ Bitcoin (ะบะฐะถะดัะต 2016 ะฑะปะพะบะพะฒ).

---

## ๐ ะงัะพ ะฒั ัะทะฝะฐะปะธ

ะะพัะปะต Episode 14 ะฒั ัะผะตะตัะต:

- โ ะะตะฐะปะธะทะพะฒัะฒะฐัั ะบัะธะฟัะพะณัะฐัะธัะตัะบะธะต ัะตั-ััะฝะบัะธะธ
- โ ะกะพะทะดะฐะฒะฐัั blockchain ััััะบัััั ะดะฐะฝะฝัั
- โ ะะตัะธัะธัะธัะพะฒะฐัั ัะตะปะพััะฝะพััั ัะตัะตะท ัะตะฟะพัะบั ัะตัะตะน
- โ ะะพะฝะธะผะฐัั Proof-of-Work (mining)
- โ ะะตัะตะบัะธัะพะฒะฐัั ะฟะพะดะดะตะปะบั ะดะฐะฝะฝัั ัะตัะตะท immutability

---

## ๐ ะกะปะตะดัััะธะน ัะฟะธะทะพะด

ะ **Episode 15: Sorting & Search Algorithms** ะฒั ะฝะฐััะธัะตัั:
- ะะตะฐะปะธะทะพะฒัะฒะฐัั ะบะปะฐััะธัะตัะบะธะต ะฐะปะณะพัะธัะผั ัะพััะธัะพะฒะบะธ
- ะะพะฝะธะผะฐัั ะฒัะตะผะตะฝะฝัั ัะปะพะถะฝะพััั (Big O)
- ะัะธะผะตะฝััั ะฑะธะฝะฐัะฝัะน ะฟะพะธัะบ
- ะะฟัะธะผะธะทะธัะพะฒะฐัั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะบะพะดะฐ

ะะตัะธัะธัะธัะพะฒะฐะฝะฝัะน blockchain ัะพะดะตัะถะธั ะผะธะปะปะธะพะฝั ะทะฐะฟะธัะตะน ะปะพะณะพะฒ. ะงัะพะฑั ะฝะฐะนัะธ ะฝัะถะฝัั ะธะฝัะพัะผะฐัะธั, ะฟะพะฝะฐะดะพะฑัััั ัััะตะบัะธะฒะฝัะต ะฐะปะณะพัะธัะผั...

---

<div align="center">

**MOONLIGHT OPERATION**  
*Episode 14 of 32*

[โ Episode 13](../episode-13-crypto-basics/) | [Season 4](../README.md) | [Episode 15 โ](../episode-15-trading-algorithms/)

</div>
