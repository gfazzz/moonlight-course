# Season 1: Foundations
## Основы программирования на C

> *"Всё начинается с простого... Но ничто не заканчивается так, как начинается."*

```
╔══════════════════════════════════════════════════════════╗
║                 OPERATION MOONLIGHT                      ║
║                    SEASON 1 / 10                         ║
║                                                          ║
║  СТАТУС:  🟢 АКТИВНА                                     ║
║  АГЕНТОВ: 1 (Вы)                                        ║
║  УРОВЕНЬ: Foundations                                    ║
╚══════════════════════════════════════════════════════════╝
```

---

## 📖 О сезоне

**Season 1** закладывает фундамент для всего курса. Здесь вы познакомитесь с основами языка C: от переменных до функций, от циклов до работы с файлами.

### 🎬 Сюжет

**Вторник, 23:47.** Обычный вечер. Вы заканчиваете очередной пентест для местной компании. Кофе остыл, код скомпилирован, отчёт почти готов.

Но всё меняется, когда на старый зашифрованный канал приходит сообщение от **Виктора Петрова** — вашего бывшего напарника из ФСБ, который, по официальной версии, **погиб в автокатастрофе два года назад**.

Сообщение короткое, зашифровано простым XOR (ваш общий протокол для быстрых сообщений). Расшифровав его, вы запустите цепочку событий, которая приведёт вас к **операции MOONLIGHT** — глобальному заговору, о котором вы даже не подозревали.

**Временная линия Season 1:**
```
23:47  📧 Получено зашифрованное сообщение от V.
00:02  🔓 Сообщение расшифровано: "MOONLIGHT activated"
01:23  📊 Анализ данных: координаты, метки времени  
03:47  🔍 Обнаружен паттерн: период 10 секунд
06:15  🎯 Создан decoder — первый инструмент
06:47  ✅ Доступ к серверу получен
```

---

## 🎯 Цели сезона

После прохождения Season 1 вы сможете:
- ✅ Писать простые программы на C
- ✅ Работать с переменными, массивами, строками
- ✅ Использовать условия и циклы
- ✅ Создавать функции и разделять код на модули
- ✅ Компилировать программы с помощью GCC
- ✅ Читать и записывать файлы
- ✅ Понимать основы криптографии (Caesar, XOR)

---

## 📚 Эпизоды

### [Episode 01: "Странное сообщение"](episode-01-strange-message/) 📧
**Время:** 23:47 → 00:02 (вторник)  
**Концепции:** Переменные, типы данных, массивы, XOR  
**Сложность:** 🟢 Easy

> *"Мёртвые не отправляют сообщения... или отправляют?"*

Получено зашифрованное сообщение от Виктора Петрова — вашего бывшего напарника, который погиб 2 года назад. Сообщение зашифровано XOR. Нужно его расшифровать и узнать правду.

**Что вы освоите:**
- ✅ Переменные и типы (`int`, `char`, `unsigned`)
- ✅ Массивы и работа с байтами
- ✅ Операторы (особенно XOR)
- ✅ Ввод/вывод (`printf`, `scanf`)
- ✅ Базовая криптография

**Артефакт:** `xor_decoder` — дешифровщик сообщений  
**Достижение:** 🏆 "First Decryption"  
**Время прохождения:** ~1.5 часа

---

### [Episode 02: "Цепочка зацепок"](episode-02-chain-of-clues/) 📊
**Время:** 01:15 → 02:47 (глубокая ночь)  
**Концепции:** Условные операторы, логика  
**Сложность:** 🟡 Medium

> *"Данные не случайны. Всё имеет смысл. Нужно лишь найти ключ..."*

В расшифрованном сообщении — файл `data.dat` с координатами, временными метками и идентификаторами. Данные сырые и неструктурированные. Нужно их классифицировать и понять паттерн.

**Что вы освоите:**
- ✅ Условия (`if`, `else if`, `else`)
- ✅ Многоуровневая логика (`switch`)
- ✅ Логические операторы (`&&`, `||`, `!`)
- ✅ Валидация и фильтрация данных
- ✅ Детективный анализ

**Артефакт:** `data_classifier` — анализатор данных  
**Достижение:** 🏆 "Pattern Recognition"  
**Время прохождения:** ~2 часа

---

### [Episode 03: "Паттерны во времени"](episode-03-patterns-in-time/) 🔍
**Время:** 03:15 → 06:15 (перед рассветом)  
**Концепции:** Циклы, алгоритмы поиска  
**Сложность:** 🟡 Medium

> *"Временные метки не лгут. Период найден: 10 секунд. Маршрут построен."*

Анализ временных меток выявляет строгую периодичность — сигнал передаётся каждые 10 секунд. Последовательность координат формирует маршрут к серверу в московском дата-центре. Нужны циклы для обработки тысяч записей.

**Что вы освоите:**
- ✅ Циклы (`for`, `while`, `do-while`)
- ✅ Вложенные циклы и оптимизация
- ✅ Управление потоком (`break`, `continue`)
- ✅ Поиск паттернов в данных
- ✅ Брутфорс PIN-кодов

**Артефакт:** `pattern_finder` — поисковик закономерностей  
**Достижение:** 🏆 "The Pattern Seeker"  
**Время прохождения:** ~2.5 часа

---

### [Episode 04: "Первый инструмент"](episode-04-first-tool/) 🛠️
**Время:** 06:15 → 06:47 (рассвет)  
**Концепции:** Функции, модульность, файлы  
**Сложность:** 🔴 Hard

> *"Всё, что вы написали в Episodes 01-03, теперь объединится в один мощный инструмент."*

Паттерн найден. Период — 10 секунд. Маршрут построен. Финальная точка — дата-центр на Варшавском шоссе, сервер № 1723. Пришло время объединить все наработки в профессиональный инструмент — `moonlight-decoder`.

**Что вы освоите:**
- ✅ Функции и модульная архитектура
- ✅ Заголовочные файлы (`.h`)
- ✅ Работа с файлами (`fopen`, `fread`, `fwrite`)
- ✅ Создание библиотек
- ✅ Аргументы командной строки
- ✅ Профессиональная структура кода

**Артефакт:** `moonlight-decoder` — полноценный инструмент  
**Достижение:** 🏆 "Tool Maker" (финал Season 1)  
**Время прохождения:** ~3 часа

---

## 🎬 Сюжетная арка

```
╔══════════════════════════════════════════════════════════╗
║              ВРЕМЕННАЯ ЛИНИЯ СОБЫТИЙ                    ║
╠══════════════════════════════════════════════════════════╣
║                                                          ║
║  23:47 📧  Получено сообщение от "мёртвого"              ║
║  00:02 🔓  Расшифровка: "MOONLIGHT activated"            ║
║  01:23 📊  Данные загружены, начат анализ                ║
║  02:47 ✅  142 записи классифицированы                   ║
║  03:47 🔍  Обнаружен паттерн: период 10 секунд           ║
║  05:30 📍  Маршрут построен → сервер № 1723              ║
║  06:15 🛠️  Создан moonlight-decoder                      ║
║  06:47 🎯  Доступ к серверу получен!                     ║
║                                                          ║
║  [!] В файлах сервера: фрагменты об операции MOONLIGHT   ║
║                                                          ║
╚══════════════════════════════════════════════════════════╝
```

**Сюжетные повороты:**

1. **Акт I (Episode 01):** Сообщение от мёртвого
   - Виктор Петров погиб 2 года назад... или нет?
   - Зашифрованное сообщение нарушает вашу реальность
   - Первая зацепка: "MOONLIGHT activated. They know."

2. **Акт II (Episodes 02-03):** Погружение в данные
   - Координаты указывают на 3 города: Москва, Сидней, Берлин
   - Временные метки формируют периодический паттерн
   - Кто-то передаёт сигнал каждые 10 секунд

3. **Акт III (Episode 04):** Прорыв
   - Создан первый профессиональный инструмент
   - Получен доступ к серверу № 1723
   - Найдены фрагменты данных об операции MOONLIGHT

**Вопросы без ответов:**
- ❓ Жив ли Виктор? Кто отправил сообщение?
- ❓ Что такое операция MOONLIGHT?
- ❓ Кто "они" и почему "они знают"?
- ❓ Почему данные хранятся в зашифрованных файлах с особой структурой?

```
╔══════════════════════════════════════════════════════════╗
║                                                          ║
║  "Данные на сервере — только начало.                    ║
║   Чтобы продолжить, нужно научиться работать с памятью  ║
║   на низком уровне. Season 2 ждёт тебя."                ║
║                                                   — V.   ║
║                                                          ║
╚══════════════════════════════════════════════════════════╝
```

*Ответы ждут в Season 2: Memory & Pointers...*

---

## 🛠 Технический стек

- **Язык:** C (стандарт C11)
- **Компилятор:** GCC или Clang
- **Инструменты:** 
  - `make` для сборки
  - `gdb` для отладки (опционально)
  - Cursor AI для помощи

---

## 📂 Структура файлов

```
season-1-foundations/
├── README.md                    ← Вы здесь
├── episode-01-strange-message/
│   ├── README.md                # Теория + сюжет
│   ├── mission.md               # Краткое ТЗ
│   ├── starter.c                # Шаблоны кода
│   ├── Makefile                 # Сборка
│   ├── artifacts/               # ВАШ КОД ЗДЕСЬ
│   ├── tests/                   # Автотесты
│   └── solution/                # Решение (не подглядывать!)
├── episode-02-chain-of-clues/
├── episode-03-patterns-in-time/
└── episode-04-first-tool/
```

---

## 🚀 Как проходить

### 1. Начните с Episode 01
```bash
cd episode-01-strange-message/
cat README.md
```

### 2. Читайте теорию
Каждый эпизод начинается с объяснения концепций. Не пропускайте!

### 3. Пишите код
Создавайте файлы в папке `artifacts/`:
```bash
cd episode-01-strange-message/
# Создайте artifacts/decoder.c
# Используйте starter.c как шаблон
```

### 4. Компилируйте и тестируйте
```bash
# Вариант 1: Вручную
gcc -Wall -Wextra -std=c11 -o decoder artifacts/decoder.c
./decoder

# Вариант 2: Через Makefile
make
make run

# Вариант 3: Автотесты
make test
```

### 5. Используйте AI
Cursor AI — ваш союзник! Спрашивайте:
- "Почему эта ошибка компиляции?"
- "Как работает XOR?"
- "Объясни этот код"

Но **сначала пробуйте сами**!

### 6. Переходите дальше
Когда `make test` проходит — вы готовы к следующему эпизоду.

---

## 💡 Советы

### Для новичков:
- 📖 Читайте теорию внимательно
- 🧪 Экспериментируйте с кодом
- 🐛 Не бойтесь ошибок — они учат
- 🤖 Используйте AI для объяснений
- ⏱️ Не торопитесь, важно понимание

### Для опытных:
- 🚀 Попробуйте решить до чтения подсказок
- 🎯 Делайте challenge задачи
- 🔍 Изучайте код в `solution/` после решения
- 📝 Оптимизируйте свой код
- 🎨 Добавляйте свои фичи

---

## 📊 Прогресс

Отмечайте по мере прохождения:

```
╔══════════════════════════════════════════════════════════╗
║  SEASON 1 PROGRESS                                       ║
╠══════════════════════════════════════════════════════════╣
║                                                          ║
║  [ ] Episode 01: Странное сообщение       (1.5ч)  🟢    ║
║  [ ] Episode 02: Цепочка зацепок          (2.0ч)  🟡    ║
║  [ ] Episode 03: Паттерны во времени      (2.5ч)  🟡    ║
║  [ ] Episode 04: Первый инструмент        (3.0ч)  🔴    ║
║                                                          ║
║  Всего: ~9 часов                                         ║
║                                                          ║
╚══════════════════════════════════════════════════════════╝
```

### 🏆 Достижения Season 1:
- [ ] 🔓 **First Decryption** — расшифровали первое сообщение
- [ ] 📊 **Pattern Recognition** — нашли закономерность в данных
- [ ] 🔍 **The Pattern Seeker** — вычислили период сигнала
- [ ] 🛠️ **Tool Maker** — создали профессиональный инструмент
- [ ] 🎯 **Season 1 Complete** — получили доступ к серверу

---

## 🎓 Ресурсы

### Книги:
- **CS50** - Harvard's Introduction to CS
- **Head First C** - O'Reilly (практический подход)
- **K&R "The C Programming Language"** - классика

### Онлайн:
- [CS50 Lectures](https://cs50.harvard.edu/x/)
- [C Reference](https://en.cppreference.com/w/c)
- [Learn C](https://www.learn-c.org/)

### Инструменты:
- [GDB Tutorial](https://www.gdbtutorial.com/)
- [Valgrind Guide](https://valgrind.org/docs/manual/quick-start.html)

---

## ⚠️ Частые ошибки

### Ошибка: "array index out of bounds"
```c
int arr[5];
arr[5] = 10;  // ОШИБКА! Индексы: 0,1,2,3,4
```

### Ошибка: "missing null terminator"
```c
char str[5] = {'H','e','l','l','o'};  // НЕ строка!
printf("%s", str);  // Опасно!

// Правильно:
char str[6] = {'H','e','l','l','o','\0'};
// Или:
char str[] = "Hello";  // Автоматически добавит '\0'
```

### Ошибка: "integer division"
```c
int a = 5, b = 2;
float result = a / b;  // result = 2.0 (не 2.5!)

// Правильно:
float result = (float)a / b;  // 2.5
```

---

## 🎨 Easter Eggs Season 1

🔍 **Скрытые детали:**
- Время 23:47 — отсылка к RFC 2347 (TFTP Options)
- Координаты в Episode 02 — реальные локации дата-центров
- Период 10 секунд — классический heartbeat интервал
- Сервер № 1723 — отсылка к PPTP порту (виртуальные сети)

🎬 **Отсылки:**
- "Мёртвый напарник" — как Jason Bourne
- XOR шифрование — использовалось в игре BioShock
- Операция MOONLIGHT — отсылка к Operation Moonlight в Splinter Cell
- Детективный анализ — стиль Sherlock Holmes

---

## 🎬 Что дальше?

После завершения Season 1 вас ждёт:

### 🧠 [Season 2: Memory & Pointers](../season-2-memory-and-pointers/)
**Сюжет:** Данные на сервере хранятся в зашифрованных файлах с особой структурой памяти  
**Навыки:** Массивы, указатели, динамическая память, поиск утечек  
**Временная линия:** 08:47 → 04:15 (следующий день)

### 🌐 Season 3: Networks
**Сюжет:** Сетевая инфильтрация, перехват пакетов, шифрованные коммуникации  
**Навыки:** Сокеты, TCP/IP, протоколы, packet analysis

### 🔐 Season 4: Crypto & Algorithms  
**Сюжет:** Серьёзная криптография, блокчейн, алгоритмы поиска  
**Навыки:** AES, RSA, хеширование, структуры данных

---

## 🚀 Готовы начать?

```bash
cd episode-01-strange-message/
cat README.md
```

```
╔══════════════════════════════════════════════════════════╗
║                                                          ║
║         ОПЕРАЦИЯ MOONLIGHT НАЧАЛАСЬ                     ║
║                                                          ║
║  Ваша цель: расшифровать сообщение V.                   ║
║  Ваши навыки: базовое знание программирования           ║
║  Ваше оружие: GCC, терминал, и логика                   ║
║                                                          ║
║  Удачи, агент. Время пошло.                             ║
║                                                          ║
╚══════════════════════════════════════════════════════════╝
```

---

*"Код не лжёт. Люди лжут. Системы лжут. Но код всегда говорит правду."* — V.
