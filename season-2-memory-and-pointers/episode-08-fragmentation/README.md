# Episode 08: "Fragmentation" üîç

> *"Memory leaks are silent killers. Learn to hunt them down before they hunt you."*

## üìö –¢–µ–æ—Ä–∏—è: –ü–æ–∏—Å–∫ —É—Ç–µ—á–µ–∫ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏

### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏?

**–£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ (memory leak)** ‚Äî —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ.

```c
// ‚ùå –£—Ç–µ—á–∫–∞
void leak_example() {
    int *p = malloc(1000 * sizeof(int));
    // –ó–∞–±—ã–ª–∏ free(p)
}  // p –∏—Å—á–µ–∑–∞–µ—Ç, –ø–∞–º—è—Ç—å –ø–æ—Ç–µ—Ä—è–Ω–∞ –Ω–∞–≤—Å–µ–≥–¥–∞ (–¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã)

// –ü–æ—Å–ª–µ 1000 –≤—ã–∑–æ–≤–æ–≤: 4MB –ø–∞–º—è—Ç–∏ —É—Ç–µ–∫–ª–æ!
for (int i = 0; i < 1000; i++) {
    leak_example();
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ä–æ—Å—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
- –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (swap)
- –ö—Ä–∞—à –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ –ø–∞–º—è—Ç–∏
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–¥–µ–ª–∏—Ç—å –Ω–æ–≤—É—é –ø–∞–º—è—Ç—å

---

### 2. –¢–∏–ø—ã —É—Ç–µ—á–µ–∫

**1. –ü—Ä—è–º–∞—è —É—Ç–µ—á–∫–∞ (Direct leak)**:
```c
int *p = malloc(100);
// –ó–∞–±—ã–ª–∏ free(p)
```

**2. –ü–æ—Ç–µ—Ä—è–Ω–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å**:
```c
int *p = malloc(100);
p = malloc(200);  // –°—Ç–∞—Ä—ã–π –±–ª–æ–∫ –ø–æ—Ç–µ—Ä—è–Ω!
```

**3. –ö–æ—Å–≤–µ–Ω–Ω–∞—è —É—Ç–µ—á–∫–∞ (Indirect leak)**:
```c
struct Node {
    int *data;
    struct Node *next;
};

Node *head = malloc(sizeof(Node));
head->data = malloc(100);  // –í—ã–¥–µ–ª–∏–ª–∏
free(head);  // –û—Å–≤–æ–±–æ–¥–∏–ª–∏ Node, –Ω–æ data —É—Ç–µ–∫–ª–∞!
```

**4. –£—Å–ª–æ–≤–Ω–∞—è —É—Ç–µ—á–∫–∞**:
```c
int *p = malloc(100);
if (error) {
    return;  // –í—ã—Ö–æ–¥ –±–µ–∑ free!
}
free(p);
```

---

### 3. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–∏—Å–∫–∞ —É—Ç–µ—á–µ–∫

#### **macOS: `leaks`**

–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ Apple:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É—Ç–µ—á–µ–∫ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
leaks --atExit -- ./my_program

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ PID
leaks <pid>
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞**:
```
leaks Report Version: 4.0
Process 12345: 512 nodes malloced for 8192 KB
Process 12345: 1 leak for 1024 total leaked bytes.

Leak: 0x7f8a12345000  size=1024  zone: DefaultMallocZone_0x...
    0x00007fff12345678  malloc
    0x0000000100001234  my_function
    0x0000000100001567  main
```

#### **Linux: `valgrind`**

```bash
# –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–µ—á–µ–∫
valgrind --leak-check=full --show-leak-kinds=all ./my_program

# –¢–æ–ª—å–∫–æ —É—Ç–µ—á–∫–∏ –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π
valgrind --leak-check=summary ./my_program

# –° —Ç—Ä–µ–∫–∏–Ω–≥–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
valgrind --track-origins=yes ./my_program
```

**–í—ã–≤–æ–¥ valgrind**:
```
==12345== HEAP SUMMARY:
==12345==     in use at exit: 1,024 bytes in 1 blocks
==12345==   total heap usage: 10 allocs, 9 frees, 10,240 bytes allocated
==12345==
==12345== 1,024 bytes in 1 blocks are definitely lost in loss record 1 of 1
==12345==    at 0x4C2AB80: malloc (in /usr/lib/valgrind/...)
==12345==    by 0x400567: my_function (main.c:42)
==12345==    by 0x4005A3: main (main.c:56)
```

---

### 4. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫

**1. –ü—Ä–∞–≤–∏–ª–æ: –ö—Ç–æ –≤—ã–¥–µ–ª–∏–ª ‚Äî —Ç–æ—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç**

```c
// ‚úÖ –•–æ—Ä–æ—à–æ
char* create_string() {
    char *s = malloc(100);
    strcpy(s, "Hello");
    return s;
}

void use_string() {
    char *s = create_string();
    printf("%s\n", s);
    free(s);  // –í—ã–∑—ã–≤–∞—é—â–∏–π –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç
}
```

**2. –û–±–Ω—É–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ free**

```c
// ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ
free(p);
p = NULL;  // –¢–µ–ø–µ—Ä—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π free –±–µ–∑–æ–ø–∞—Å–µ–Ω (–Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç)

if (p != NULL) {
    free(p);  // –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è, –µ—Å–ª–∏ —É–∂–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ
}
```

**3. Cleanup-—Ñ—É–Ω–∫—Ü–∏–∏**

```c
typedef struct {
    char *name;
    int *data;
} Resource;

Resource* create_resource() {
    Resource *r = malloc(sizeof(Resource));
    r->name = malloc(100);
    r->data = malloc(1000 * sizeof(int));
    return r;
}

// ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
void destroy_resource(Resource *r) {
    if (r) {
        free(r->name);
        free(r->data);
        free(r);
    }
}
```

**4. RAII-–ø–æ–¥–æ–±–Ω—ã–µ –º–∞–∫—Ä–æ—Å—ã (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ)**

```c
#define CLEANUP_FREE __attribute__((cleanup(cleanup_free)))

void cleanup_free(void *p) {
    free(*(void**)p);
}

void example() {
    CLEANUP_FREE char *str = malloc(100);
    // str –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ scope!
}
```

---

### 5. –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è (Double Free)

**–ü—Ä–æ–±–ª–µ–º–∞**:
```c
int *p = malloc(100);
free(p);
free(p);  // –ö–†–ê–®!
```

**–†–µ—à–µ–Ω–∏–µ 1: –û–±–Ω—É–ª—è—Ç—å**:
```c
free(p);
p = NULL;
free(p);  // OK (free(NULL) –±–µ–∑–æ–ø–∞—Å–µ–Ω)
```

**–†–µ—à–µ–Ω–∏–µ 2: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–∞–∫—Ä–æ—Å**:
```c
#define SAFE_FREE(p) do { \
    free(p); \
    p = NULL; \
} while(0)

SAFE_FREE(p);
SAFE_FREE(p);  // –ë–µ–∑–æ–ø–∞—Å–Ω–æ
```

---

### 6. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

**1. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤**

```c
// ‚ùå –ü–ª–æ—Ö–æ (–º–Ω–æ–≥–æ –∞–ª–ª–æ–∫–∞—Ü–∏–π)
for (int i = 0; i < 1000; i++) {
    char *buf = malloc(1024);
    // —Ä–∞–±–æ—Ç–∞ —Å buf
    free(buf);
}

// ‚úÖ –•–æ—Ä–æ—à–æ (–æ–¥–Ω–∞ –∞–ª–ª–æ–∫–∞—Ü–∏—è)
char *buf = malloc(1024);
for (int i = 0; i < 1000; i++) {
    // —Ä–∞–±–æ—Ç–∞ —Å buf
}
free(buf);
```

**2. Memory pools (–ø—É–ª—ã –ø–∞–º—è—Ç–∏)**

```c
typedef struct {
    void *memory;
    size_t size;
    size_t used;
} MemoryPool;

MemoryPool* pool_create(size_t size) {
    MemoryPool *pool = malloc(sizeof(MemoryPool));
    pool->memory = malloc(size);
    pool->size = size;
    pool->used = 0;
    return pool;
}

void* pool_alloc(MemoryPool *pool, size_t size) {
    if (pool->used + size > pool->size) {
        return NULL;  // –ü—É–ª –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω
    }
    void *ptr = (char*)pool->memory + pool->used;
    pool->used += size;
    return ptr;
}

void pool_destroy(MemoryPool *pool) {
    free(pool->memory);
    free(pool);
}
```

**3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤**

```c
// ‚ùå –ü–ª–æ—Ö–æ
for (int i = 0; i < strlen(str); i++) {  // strlen –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑!
    process(str[i]);
}

// ‚úÖ –•–æ—Ä–æ—à–æ
size_t len = strlen(str);  // –û–¥–∏–Ω —Ä–∞–∑
for (int i = 0; i < len; i++) {
    process(str[i]);
}
```

---

### 7. Best Practices

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ malloc**:
```c
int *p = malloc(size);
if (!p) {
    perror("malloc failed");
    return -1;
}
```

2. **–û–¥–∏–Ω malloc ‚Äî –æ–¥–∏–Ω free**:
```c
// –¢—Ä–µ–∫–∞–π—Ç–µ –≤—Å–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏
allocated++;
// ...
freed++;
// –í –∫–æ–Ω—Ü–µ: allocated == freed?
```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**:
```bash
# clang static analyzer
scan-build make

# cppcheck
cppcheck --enable=all .
```

4. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –∞—Å—Å–µ—Ä—Ç—ã**:
```c
#include <assert.h>

void function(int *p) {
    assert(p != NULL);  // –ö—Ä–∞—à –≤ –¥–µ–±–∞–≥–µ, –µ—Å–ª–∏ NULL
    *p = 42;
}
```

5. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏ (–¥–µ–±–∞–≥)**:
```c
#ifdef DEBUG
#define MALLOC(size) (printf("MALLOC %zu at %s:%d\n", size, __FILE__, __LINE__), malloc(size))
#define FREE(p) (printf("FREE %p at %s:%d\n", p, __FILE__, __LINE__), free(p))
#else
#define MALLOC malloc
#define FREE free
#endif
```

---

## üéØ –ú–∏—Å—Å–∏—è: "–î–µ—Ç–µ–∫—Ç–∏–≤ —É—Ç–µ—á–µ–∫"

### –õ–µ–≥–µ–Ω–¥–∞

–í–∞–º –¥–æ—Å—Ç–∞–ª–∞—Å—å –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∞–≥–µ–Ω—Ç–∞ ‚Äî **—Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è MOONLIGHT**. –û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–∞: –ø–∞–º—è—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—Ç—ë—Ç!

–ü–æ—Å–ª–µ 1000 –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å—ä–µ–¥–∞–µ—Ç 100MB+. –û—á–µ–≤–∏–¥–Ω–æ, –≥–¥–µ-—Ç–æ —É—Ç–µ—á–∫–∏.

**–í–∞—à–∞ –∑–∞–¥–∞—á–∞**:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–º —É—Ç–µ—á–µ–∫
2. –ù–∞–π—Ç–∏ –≤—Å–µ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏—Ö
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
5. –î–æ–∫–∞–∑–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Ç–µ—á–µ–∫

---

### –ü—Ä–æ–≥—Ä–∞–º–º–∞ `logger.c` (—Å –±–∞–≥–∞–º–∏!)

**–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞**: `buggy_logger.c` ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å —É—Ç–µ—á–∫–∞–º–∏

**–°–∏–º–ø—Ç–æ–º—ã**:
- –ü–∞–º—è—Ç—å —Ä–∞—Å—Ç—ë—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ª–æ–≥–µ
- –ß–µ—Ä–µ–∑ 1000 –æ–ø–µ—Ä–∞—Ü–∏–π: ~50MB —É—Ç–µ–∫–ª–æ
- Valgrind/leaks –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Ç–µ—á–∫–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
- –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ –∏–∑ —Ñ–∞–π–ª–∞
- –ó–∞–ø–∏—Å—å –ª–æ–≥–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (—Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤)
- –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π

---

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: 
- `config.txt` (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- –ö–æ–º–∞–Ω–¥—ã —á–µ—Ä–µ–∑ stdin –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

**–ó–∞–¥–∞—á–∏**:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å valgrind/leaks
2. –ò–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —É—Ç–µ—á–∫–∏ (—Ñ–∞–π–ª:—Å—Ç—Ä–æ–∫–∞)
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–∞–∂–¥—É—é —É—Ç–µ—á–∫—É
4. –î–æ–±–∞–≤–∏—Ç—å cleanup-—Ñ—É–Ω–∫—Ü–∏–∏
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: 0 leaks

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
```
valgrind --leak-check=full ./logger
...
==12345== HEAP SUMMARY:
==12345==     in use at exit: 0 bytes in 0 blocks
==12345==   total heap usage: N allocs, N frees, X bytes allocated
==12345==
==12345== All heap blocks were freed -- no leaks are possible
```

---

## üìù –ó–∞–¥–∞–Ω–∏–µ

### Starter Code

–§–∞–π–ª `buggy_logger.c` —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Ç–µ—á–∫–∏. –ù–∞–π–¥–∏—Ç–µ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ!

–§–∞–π–ª `fixed_logger.c` ‚Äî –≤–∞—à–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è.

### –ü–æ–¥—Å–∫–∞–∑–∫–∏

1. **–ù–∞–π–¥–∏—Ç–µ —É—Ç–µ—á–∫–∏**:
```bash
valgrind --leak-check=full --show-leak-kinds=all ./buggy_logger
# –ò–ª–∏ –Ω–∞ macOS:
leaks --atExit -- ./buggy_logger
```

2. **–¢–∏–ø–∏—á–Ω—ã–µ –º–µ—Å—Ç–∞**:
   - –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ (—Å—Ç—Ä–æ–∫–∏)
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥-–∑–∞–ø–∏—Å–µ–π
   - –†–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
   - –ë—É—Ñ–µ—Ä—ã

3. **–ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏**:
   - [ ] –ö–∞–∂–¥—ã–π malloc –∏–º–µ–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π free
   - [ ] –ù–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π
   - [ ] –û—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
   - [ ] free –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å
nano fixed_logger.c

# –°–æ–±—Ä–∞—Ç—å
make

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
make test
make valgrind  # –∏–ª–∏ make leaks
```

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞**:
- 0 –±–∞–π—Ç —É—Ç–µ–∫–ª–æ
- –í—Å–µ allocs == –≤—Å–µ frees
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –º–µ–Ω—å—à–µ –∞–ª–ª–æ–∫–∞—Ü–∏–π —á–µ–º –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ

---

## üéÅ –ê—Ä—Ç–µ—Ñ–∞–∫—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏—Å—Å–∏–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- **–ù–∞–≤—ã–∫**: –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —É—Ç–µ—á–µ–∫
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**: `leak_detector` ‚Äî –æ—Ç–ª–∞–∂–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**: Memory Management Expert üèÜ

**Season 2 –∑–∞–≤–µ—Ä—à—ë–Ω!** –í—ã –æ—Å–≤–æ–∏–ª–∏ –ø–∞–º—è—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞.

---

## üîó –ù–∞–≤–∏–≥–∞—Ü–∏—è

- [‚Üê Episode 07: Deep Dive](../episode-07-deep-dive/README.md)
- [‚Üí Season 3: Networks](../../season-3-networks/README.md)
- [üìã Season 2: Memory & Pointers](../README.md)
- [üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞](../../README.md)

---

> *"Clean code is not just about logic. It's about resources ‚Äî allocated, used, and freed with precision."* ‚Äî V.
