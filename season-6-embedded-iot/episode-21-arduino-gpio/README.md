# Episode 21: Arduino & GPIO Fundamentals
> *"Hardware meets software"*

## üìñ Briefing

**From:** Viktor  
**Subject:** Embedded Infiltration  
**Priority:** HIGH

```
–ê–≥–µ–Ω—Ç,

–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Å–µ–∫—Ä–µ—Ç–Ω–∞—è –±–∞–∑–∞. –û–±—ã—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç - 
–Ω—É–∂–µ–Ω —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Arduino –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è 
—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä–æ–µ –æ–±–æ–π–¥—ë—Ç —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

–ò–∑—É—á–∏—Ç–µ GPIO, —Å–µ–Ω—Å–æ—Ä—ã, –∏ –∞–∫—Ç—É–∞—Ç–æ—Ä—ã. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø.

–í—Ä–µ–º—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ.
‚Äî V.
```

---

## üéØ –ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ

### –¢–µ–æ—Ä–∏—è
- GPIO (General Purpose Input/Output)
- Digital vs Analog signals
- PWM (Pulse Width Modulation)
- Sensors (temperature, motion, light)
- Actuators (LEDs, motors, servos)
- Serial communication (UART)

### –ü—Ä–∞–∫—Ç–∏–∫–∞
- –ß—Ç–µ–Ω–∏–µ —Å —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –≤—Ö–æ–¥–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞–º–∏
- –ê–Ω–∞–ª–æ–≥–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ (ADC)
- PWM –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç—å—é
- Serial debugging

---

## üìö Theory: GPIO Basics

### Digital I/O

```c
// Arduino GPIO (–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏)
pinMode(13, OUTPUT);    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–∞ –∫–∞–∫ –≤—ã—Ö–æ–¥
digitalWrite(13, HIGH); // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å HIGH (5V)
digitalWrite(13, LOW);  // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å LOW (0V)

int state = digitalRead(2); // –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∏–Ω–∞
```

### –ù–∞ —á–∏—Å—Ç–æ–º C (embedded)

```c
// Registers –¥–ª—è ATmega328P (Arduino Uno)
#include <avr/io.h>

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–∞ –∫–∞–∫ –≤—ã—Ö–æ–¥
DDRB |= (1 << PB5);  // PB5 = pin 13 –Ω–∞ Arduino

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ HIGH
PORTB |= (1 << PB5);

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ LOW
PORTB &= ~(1 << PB5);

// –ß—Ç–µ–Ω–∏–µ
uint8_t state = (PIND & (1 << PD2)) >> PD2;
```

### Analog Input (ADC)

```c
// –ß—Ç–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (0-1023)
uint16_t value = analogRead(A0);

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –≤–æ–ª—å—Ç—ã
float voltage = value * (5.0 / 1023.0);
```

### PWM (Pulse Width Modulation)

```c
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç—å—é LED –∏–ª–∏ —Å–∫–æ—Ä–æ—Å—Ç—å—é –º–æ—Ç–æ—Ä–∞
analogWrite(9, 128);  // 50% duty cycle (0-255)
```

---

## üí° –°—é–∂–µ—Ç

–í—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è:
1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è (PIR sensor)
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (–¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤)
3. –û—Ç–∫—Ä—ã—Ç–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –∑–∞–º–∫–∞ (relay)
4. –ü–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö (Serial)

---

## üõ† –ó–∞–¥–∞—á–∏

–°–º–æ—Ç—Ä–∏—Ç–µ [mission.md](mission.md) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

**–ö—Ä–∞—Ç–∫–∏–π —Å–ø–∏—Å–æ–∫:**
1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GPIO (input/output)
2. ‚úÖ –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ–Ω—Å–æ—Ä–æ–≤
3. ‚úÖ –£–ø—Ä–∞–≤–ª—è—Ç—å –∞–∫—Ç—É–∞—Ç–æ—Ä–∞–º–∏ (LED, relay)
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Serial communication
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
episode-21-arduino-gpio/
‚îú‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ mission.md          # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ starter.c           # –®–∞–±–ª–æ–Ω –∫–æ–¥–∞
‚îú‚îÄ‚îÄ Makefile           # –°–±–æ—Ä–∫–∞
‚îú‚îÄ‚îÄ artifacts/         # –í–∞—à –∫–æ–¥
‚îú‚îÄ‚îÄ tests/             # –¢–µ—Å—Ç—ã (—Å–∏–º—É–ª—è—Ü–∏—è)
‚îî‚îÄ‚îÄ solution/          # –†–µ—à–µ–Ω–∏–µ (—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ!)
```

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Arduino Reference](https://www.arduino.cc/reference/en/)
- [AVR Libc Documentation](https://www.nongnu.org/avr-libc/)
- ATmega328P Datasheet

---

## ‚è≠Ô∏è –°–ª–µ–¥—É—é—â–∏–π —ç–ø–∏–∑–æ–¥

**Episode 22: Industrial Protocols** ‚Äî –°–ö–£–î, Wiegand, Modbus

```bash
cd ../episode-22-industrial-protocols/
cat README.md
```
